608060405234801561001057600080fd5b50600436106101f05760003560e01c80638456cb591161010f578063b88d4fde116100a2578063d539139311610071578063d539139314610426578063d547741f1461044d578063e985e9c514610460578063f2fde38b1461049c57600080fd5b8063b88d4fde146103f0578063ba4695fd14610403578063c732d2011461040b578063c87b56dd1461041357600080fd5b806395d89b41116100de57806395d89b41146103ba578063a1448194146103c2578063a217fddf146103d5578063a22cb465146103dd57600080fd5b80638456cb591461035f5780638da5cb5b14610367578063902d55a51461037857806391d148541461038157600080fd5b806336568abe116101875780635c975abb116101565780635c975abb1461030e5780636352211e1461033157806370a0823114610344578063715018a61461035757600080fd5b806336568abe146102cd5780633f4ba83a146102e057806342842e0e146102e857806355f804b3146102fb57600080fd5b806318160ddd116101c357806318160ddd1461027257806323b872dd14610284578063248a9ca3146102975780632f2ff15d146102ba57600080fd5b806301ffc9a7146101f557806306fdde031461021d578063081812fc14610232578063095ea7b31461025d575b600080fd5b610208610203366004612605565b6104af565b60405190151581526020015b60405180910390f35b6102256104c0565b60405161021491906127b9565b6102456102403660046125cb565b610552565b6040516001600160a01b039091168152602001610214565b61027061026b3660046125a2565b6105fd565b005b600a545b604051908152602001610214565b6102706102923660046124b4565b61072f565b6102766102a53660046125cb565b60009081526006602052604090206001015490565b6102706102c83660046125e3565b6107b6565b6102706102db3660046125e3565b6107dc565b610270610868565b6102706102f63660046124b4565b6108c9565b61027061030936600461263d565b6108e4565b60075474010000000000000000000000000000000000000000900460ff16610208565b61024561033f3660046125cb565b6109a1565b610276610352366004612468565b610a2c565b610270610ac6565b610270610b2a565b6007546001600160a01b0316610245565b610276600a5481565b61020861038f3660046125e3565b60009182526006602090815260408084206001600160a01b0393909316845291905290205460ff1690565b610225610b89565b6102706103d03660046125a2565b610b98565b610276600081565b6102706103eb366004612568565b610cba565b6102706103fe3660046124ef565b610cc5565b610270610d53565b610276610e2a565b6102256104213660046125cb565b610e3a565b6102767f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a681565b61027061045b3660046125e3565b610f23565b61020861046e366004612482565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b6102706104aa366004612468565b610f49565b60006104ba8261102b565b92915050565b6060600080546104cf906128ad565b80601f01602080910402602001604051908101604052809291908181526020018280546104fb906128ad565b80156105485780601f1061051d57610100808354040283529160200191610548565b820191906000526020600020905b81548152906001019060200180831161052b57829003601f168201915b5050505050905090565b6000818152600260205260408120546001600160a01b03166105e15760405162461bcd60e51b815260206004820152602c60248201527f4552433732313a20617070726f76656420717565727920666f72206e6f6e657860448201527f697374656e7420746f6b656e000000000000000000000000000000000000000060648201526084015b60405180910390fd5b506000908152600460205260409020546001600160a01b031690565b6000610608826109a1565b9050806001600160a01b0316836001600160a01b031614156106925760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560448201527f720000000000000000000000000000000000000000000000000000000000000060648201526084016105d8565b336001600160a01b03821614806106ae57506106ae813361046e565b6107205760405162461bcd60e51b815260206004820152603860248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f74206f7760448201527f6e6572206e6f7220617070726f76656420666f7220616c6c000000000000000060648201526084016105d8565b61072a8383611081565b505050565b6107393382611107565b6107ab5760405162461bcd60e51b815260206004820152603160248201527f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f60448201527f776e6572206e6f7220617070726f76656400000000000000000000000000000060648201526084016105d8565b61072a83838361120f565b6000828152600660205260409020600101546107d281336113ff565b61072a838361149d565b6001600160a01b038116331461085a5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201527f20726f6c657320666f722073656c66000000000000000000000000000000000060648201526084016105d8565b610864828261155d565b5050565b61087360003361038f565b6108bf5760405162461bcd60e51b815260206004820152601a60248201527f41646d696e3a2043616c6c6572206973206e6f742041646d696e00000000000060448201526064016105d8565b6108c76115fe565b565b61072a83838360405180602001604052806000815250610cc5565b6108ef60003361038f565b61093b5760405162461bcd60e51b815260206004820152601a60248201527f41646d696e3a2043616c6c6572206973206e6f742041646d696e00000000000060448201526064016105d8565b60095460ff161561098e5760405162461bcd60e51b815260206004820152601360248201527f546f6b656e205552492069732066726f7a656e0000000000000000000000000060448201526064016105d8565b805161086490600890602084019061231f565b6000818152600260205260408120546001600160a01b0316806104ba5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a206f776e657220717565727920666f72206e6f6e657869737460448201527f656e7420746f6b656e000000000000000000000000000000000000000000000060648201526084016105d8565b60006001600160a01b038216610aaa5760405162461bcd60e51b815260206004820152602a60248201527f4552433732313a2062616c616e636520717565727920666f7220746865207a6560448201527f726f20616464726573730000000000000000000000000000000000000000000060648201526084016105d8565b506001600160a01b031660009081526003602052604090205490565b6007546001600160a01b03163314610b205760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016105d8565b6108c760006116d0565b610b3560003361038f565b610b815760405162461bcd60e51b815260206004820152601a60248201527f41646d696e3a2043616c6c6572206973206e6f742041646d696e00000000000060448201526064016105d8565b6108c761173a565b6060600180546104cf906128ad565b610bc27f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a63361038f565b610c0e5760405162461bcd60e51b815260206004820152601b60248201527f41646d696e3a2043616c6c6572206973206e6f74204d696e746572000000000060448201526064016105d8565b600a54610c1c9060016127cc565b81610c26600b5490565b610c3091906127cc565b10610c7d5760405162461bcd60e51b815260206004820152601360248201527f52616e206f7574206f66207175616e746974790000000000000000000000000060448201526064016105d8565b60005b8181101561072a57610c9a83610c95600b5490565b61180c565b610ca8600b80546001019055565b80610cb281612901565b915050610c80565b610864338383611826565b610ccf3383611107565b610d415760405162461bcd60e51b815260206004820152603160248201527f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f60448201527f776e6572206e6f7220617070726f76656400000000000000000000000000000060648201526084016105d8565b610d4d84848484611913565b50505050565b610d5e60003361038f565b610daa5760405162461bcd60e51b815260206004820152601a60248201527f41646d696e3a2043616c6c6572206973206e6f742041646d696e00000000000060448201526064016105d8565b60095460ff1615610dfd5760405162461bcd60e51b815260206004820152601360248201527f546f6b656e205552492069732066726f7a656e0000000000000000000000000060448201526064016105d8565b600980547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055565b6000610e35600b5490565b905090565b6000818152600260205260409020546060906001600160a01b0316610ec75760405162461bcd60e51b815260206004820152602f60248201527f4552433732314d657461646174613a2055524920717565727920666f72206e6f60448201527f6e6578697374656e7420746f6b656e000000000000000000000000000000000060648201526084016105d8565b6000610ed161199c565b90506000815111610ef15760405180602001604052806000815250610f1c565b80610efb846119ab565b604051602001610f0c9291906126cd565b6040516020818303038152906040525b9392505050565b600082815260066020526040902060010154610f3f81336113ff565b61072a838361155d565b6007546001600160a01b03163314610fa35760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016105d8565b6001600160a01b03811661101f5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016105d8565b611028816116d0565b50565b60007fffffffff0000000000000000000000000000000000000000000000000000000082167f7965db0b0000000000000000000000000000000000000000000000000000000014806104ba57506104ba82611b2b565b600081815260046020526040902080547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b03841690811790915581906110ce826109a1565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000818152600260205260408120546001600160a01b03166111915760405162461bcd60e51b815260206004820152602c60248201527f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860448201527f697374656e7420746f6b656e000000000000000000000000000000000000000060648201526084016105d8565b600061119c836109a1565b9050806001600160a01b0316846001600160a01b031614806111d75750836001600160a01b03166111cc84610552565b6001600160a01b0316145b8061120757506001600160a01b0380821660009081526005602090815260408083209388168352929052205460ff165b949350505050565b826001600160a01b0316611222826109a1565b6001600160a01b03161461129e5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a207472616e73666572206f6620746f6b656e2074686174206960448201527f73206e6f74206f776e000000000000000000000000000000000000000000000060648201526084016105d8565b6001600160a01b0382166113195760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f2061646460448201527f726573730000000000000000000000000000000000000000000000000000000060648201526084016105d8565b611324838383611c0e565b61132f600082611081565b6001600160a01b0383166000908152600360205260408120805460019290611358908490612835565b90915550506001600160a01b03821660009081526003602052604081208054600192906113869084906127cc565b909155505060008181526002602052604080822080547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b60008281526006602090815260408083206001600160a01b038516845290915290205460ff166108645761143d816001600160a01b03166014611c79565b611448836020611c79565b6040516020016114599291906126fc565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529082905262461bcd60e51b82526105d8916004016127b9565b60008281526006602090815260408083206001600160a01b038516845290915290205460ff166108645760008281526006602090815260408083206001600160a01b0385168452909152902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790556115193390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b60008281526006602090815260408083206001600160a01b038516845290915290205460ff16156108645760008281526006602090815260408083206001600160a01b038516808552925280832080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0016905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b60075474010000000000000000000000000000000000000000900460ff166116685760405162461bcd60e51b815260206004820152601460248201527f5061757361626c653a206e6f742070617573656400000000000000000000000060448201526064016105d8565b600780547fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff1690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b6040516001600160a01b03909116815260200160405180910390a1565b600780546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60075474010000000000000000000000000000000000000000900460ff16156117a55760405162461bcd60e51b815260206004820152601060248201527f5061757361626c653a207061757365640000000000000000000000000000000060448201526064016105d8565b600780547fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff16740100000000000000000000000000000000000000001790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586116b33390565b610864828260405180602001604052806000815250611f65565b816001600160a01b0316836001600160a01b031614156118885760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c65720000000000000060448201526064016105d8565b6001600160a01b0383811660008181526005602090815260408083209487168084529482529182902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b61191e84848461120f565b61192a84848484611fee565b610d4d5760405162461bcd60e51b815260206004820152603260248201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560448201527f63656976657220696d706c656d656e746572000000000000000000000000000060648201526084016105d8565b6060600880546104cf906128ad565b6060816119eb57505060408051808201909152600181527f3000000000000000000000000000000000000000000000000000000000000000602082015290565b8160005b8115611a1557806119ff81612901565b9150611a0e9050600a836127e4565b91506119ef565b60008167ffffffffffffffff811115611a57577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280601f01601f191660200182016040528015611a81576020820181803683370190505b5090505b841561120757611a96600183612835565b9150611aa3600a8661293a565b611aae9060306127cc565b60f81b818381518110611aea577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350611b24600a866127e4565b9450611a85565b60007fffffffff0000000000000000000000000000000000000000000000000000000082167f80ac58cd000000000000000000000000000000000000000000000000000000001480611bbe57507fffffffff0000000000000000000000000000000000000000000000000000000082167f5b5e139f00000000000000000000000000000000000000000000000000000000145b806104ba57507f01ffc9a7000000000000000000000000000000000000000000000000000000007fffffffff000000000000000000000000000000000000000000000000000000008316146104ba565b60075474010000000000000000000000000000000000000000900460ff161561072a5760405162461bcd60e51b815260206004820152601060248201527f5061757361626c653a207061757365640000000000000000000000000000000060448201526064016105d8565b60606000611c888360026127f8565b611c939060026127cc565b67ffffffffffffffff811115611cd2577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280601f01601f191660200182016040528015611cfc576020820181803683370190505b5090507f300000000000000000000000000000000000000000000000000000000000000081600081518110611d5a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f780000000000000000000000000000000000000000000000000000000000000081600181518110611de4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506000611e208460026127f8565b611e2b9060016127cc565b90505b6001811115611f16577f303132333435363738396162636465660000000000000000000000000000000085600f1660108110611e93577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b828281518110611ed0577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060049490941c93611f0f81612878565b9050611e2e565b508315610f1c5760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e7460448201526064016105d8565b611f6f83836121b9565b611f7c6000848484611fee565b61072a5760405162461bcd60e51b815260206004820152603260248201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560448201527f63656976657220696d706c656d656e746572000000000000000000000000000060648201526084016105d8565b60006001600160a01b0384163b156121ae576040517f150b7a020000000000000000000000000000000000000000000000000000000081526001600160a01b0385169063150b7a029061204b90339089908890889060040161277d565b602060405180830381600087803b15801561206557600080fd5b505af19250505080156120b3575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01682019092526120b091810190612621565b60015b612163573d8080156120e1576040519150601f19603f3d011682016040523d82523d6000602084013e6120e6565b606091505b50805161215b5760405162461bcd60e51b815260206004820152603260248201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560448201527f63656976657220696d706c656d656e746572000000000000000000000000000060648201526084016105d8565b805181602001fd5b7fffffffff00000000000000000000000000000000000000000000000000000000167f150b7a0200000000000000000000000000000000000000000000000000000000149050611207565b506001949350505050565b6001600160a01b03821661220f5760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f206164647265737360448201526064016105d8565b6000818152600260205260409020546001600160a01b0316156122745760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e7465640000000060448201526064016105d8565b61228060008383611c0e565b6001600160a01b03821660009081526003602052604081208054600192906122a99084906127cc565b909155505060008181526002602052604080822080547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b03861690811790915590518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b82805461232b906128ad565b90600052602060002090601f01602090048101928261234d5760008555612393565b82601f1061236657805160ff1916838001178555612393565b82800160010185558215612393579182015b82811115612393578251825591602001919060010190612378565b5061239f9291506123a3565b5090565b5b8082111561239f57600081556001016123a4565b600067ffffffffffffffff808411156123d3576123d36129ac565b604051601f85017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0908116603f01168101908282118183101715612419576124196129ac565b8160405280935085815286868601111561243257600080fd5b858560208301376000602087830101525050509392505050565b80356001600160a01b038116811461246357600080fd5b919050565b600060208284031215612479578081fd5b610f1c8261244c565b60008060408385031215612494578081fd5b61249d8361244c565b91506124ab6020840161244c565b90509250929050565b6000806000606084860312156124c8578081fd5b6124d18461244c565b92506124df6020850161244c565b9150604084013590509250925092565b60008060008060808587031215612504578081fd5b61250d8561244c565b935061251b6020860161244c565b925060408501359150606085013567ffffffffffffffff81111561253d578182fd5b8501601f8101871361254d578182fd5b61255c878235602084016123b8565b91505092959194509250565b6000806040838503121561257a578182fd5b6125838361244c565b915060208301358015158114612597578182fd5b809150509250929050565b600080604083850312156125b4578182fd5b6125bd8361244c565b946020939093013593505050565b6000602082840312156125dc578081fd5b5035919050565b600080604083850312156125f5578182fd5b823591506124ab6020840161244c565b600060208284031215612616578081fd5b8135610f1c816129db565b600060208284031215612632578081fd5b8151610f1c816129db565b60006020828403121561264e578081fd5b813567ffffffffffffffff811115612664578182fd5b8201601f81018413612674578182fd5b611207848235602084016123b8565b6000815180845261269b81602086016020860161284c565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600083516126df81846020880161284c565b8351908301906126f381836020880161284c565b01949350505050565b7f416363657373436f6e74726f6c3a206163636f756e742000000000000000000081526000835161273481601785016020880161284c565b7f206973206d697373696e6720726f6c6520000000000000000000000000000000601791840191820152835161277181602884016020880161284c565b01602801949350505050565b60006001600160a01b038087168352808616602084015250836040830152608060608301526127af6080830184612683565b9695505050505050565b602081526000610f1c6020830184612683565b600082198211156127df576127df61294e565b500190565b6000826127f3576127f361297d565b500490565b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156128305761283061294e565b500290565b6000828210156128475761284761294e565b500390565b60005b8381101561286757818101518382015260200161284f565b83811115610d4d5750506000910152565b6000816128875761288761294e565b507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190565b600181811c908216806128c157607f821691505b602082108114156128fb577f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b50919050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156129335761293361294e565b5060010190565b6000826129495761294961297d565b500690565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7fffffffff000000000000000000000000000000000000000000000000000000008116811461102857600080fdfea264697066735822122052c0f8081b4f02e488c0b8c1e15f74c07f6fa181a6bfc45edda7772f37863daf64736f6c63430008040033