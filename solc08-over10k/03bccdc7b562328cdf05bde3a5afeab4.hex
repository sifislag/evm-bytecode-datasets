60806040526004361061023b5760003560e01c80638c5db7761161012e578063a83ef515116100ab578063d5abeb011161006f578063d5abeb0114610690578063e985e9c5146106a6578063f2fde38b146106ef578063f8a14f461461070f578063f968adbe1461074557600080fd5b8063a83ef5151461060b578063b88d4fde14610621578063c87b56dd14610641578063d04512b714610661578063d12397301461067657600080fd5b80639dc29fac116100f25780639dc29fac14610582578063a035b1fe146105a2578063a0712d68146105b8578063a0bcfc7f146105cb578063a22cb465146105eb57600080fd5b80638c5db776146104d25780638da5cb5b146104ff57806395d89b411461051d57806398d5fdca146105325780639b3e27871461054757600080fd5b806342842e0e116101bc5780636c0360eb116101805780636c0360eb1461045357806370a0823114610468578063715018a6146104885780637d55094d1461049d5780638ba9ef41146104b257600080fd5b806342842e0e146103be57806346dd18dd146103de5780634f6ccce7146103fe57806353f2abee1461041e5780636352211e1461043357600080fd5b806318160ddd1161020357806318160ddd1461031057806323b872dd1461032f5780632f745c591461034f57806334a8319a1461036f57806341f434341461039c57600080fd5b806301ffc9a71461024057806306fdde031461027557806307003bd914610297578063081812fc146102b6578063095ea7b3146102ee575b600080fd5b34801561024c57600080fd5b5061026061025b3660046121f9565b61075b565b60405190151581526020015b60405180910390f35b34801561028157600080fd5b5061028a6107c8565b60405161026c919061226e565b3480156102a357600080fd5b5060105461026090610100900460ff1681565b3480156102c257600080fd5b506102d66102d1366004612281565b61085a565b6040516001600160a01b03909116815260200161026c565b3480156102fa57600080fd5b5061030e6103093660046122b6565b6108ea565b005b34801561031c57600080fd5b506001545b60405190815260200161026c565b34801561033b57600080fd5b5061030e61034a3660046122e0565b610903565b34801561035b57600080fd5b5061032161036a3660046122b6565b61092e565b34801561037b57600080fd5b5061038f61038a36600461231c565b610a94565b60405161026c9190612337565b3480156103a857600080fd5b506102d66daaeb6d7670e522a718067333cd4e81565b3480156103ca57600080fd5b5061030e6103d93660046122e0565b610c27565b3480156103ea57600080fd5b5061030e6103f9366004612281565b610c4c565b34801561040a57600080fd5b50610321610419366004612281565b610c90565b34801561042a57600080fd5b50600f54610321565b34801561043f57600080fd5b506102d661044e366004612281565b610cf9565b34801561045f57600080fd5b5061028a610d0b565b34801561047457600080fd5b5061032161048336600461231c565b610d99565b34801561049457600080fd5b5061030e610e2a565b3480156104a957600080fd5b5061030e610e75565b3480156104be57600080fd5b5061030e6104cd36600461237b565b610ec8565b3480156104de57600080fd5b506103216104ed36600461231c565b60156020526000908152604090205481565b34801561050b57600080fd5b506008546001600160a01b03166102d6565b34801561052957600080fd5b5061028a611067565b34801561053e57600080fd5b50600c54610321565b34801561055357600080fd5b506102606105623660046122b6565b601160209081526000928352604080842090915290825290205460ff1681565b34801561058e57600080fd5b5061030e61059d3660046122b6565b611076565b3480156105ae57600080fd5b50610321600c5481565b61030e6105c6366004612281565b6110c3565b3480156105d757600080fd5b5061030e6105e6366004612429565b611302565b3480156105f757600080fd5b5061030e610606366004612480565b611354565b34801561061757600080fd5b50610321600f5481565b34801561062d57600080fd5b5061030e61063c3660046124b7565b611368565b34801561064d57600080fd5b5061028a61065c366004612281565b611395565b34801561066d57600080fd5b5061030e61146c565b34801561068257600080fd5b506010546102609060ff1681565b34801561069c57600080fd5b50610321600e5481565b3480156106b257600080fd5b506102606106c1366004612533565b6001600160a01b03918216600090815260076020908152604080832093909416825291909152205460ff1690565b3480156106fb57600080fd5b5061030e61070a36600461231c565b6114c8565b34801561071b57600080fd5b506102d661072a366004612281565b6012602052600090815260409020546001600160a01b031681565b34801561075157600080fd5b50610321600d5481565b60006001600160e01b031982166380ac58cd60e01b148061078c57506001600160e01b03198216635b5e139f60e01b145b806107a757506001600160e01b0319821663780e9d6360e01b145b806107c257506301ffc9a760e01b6001600160e01b03198316145b92915050565b6060600280546107d790612566565b80601f016020809104026020016040519081016040528092919081815260200182805461080390612566565b80156108505780601f1061082557610100808354040283529160200191610850565b820191906000526020600020905b81548152906001019060200180831161083357829003601f168201915b5050505050905090565b6000610867826000541190565b6108ce5760405162461bcd60e51b815260206004820152602d60248201527f455243373231413a20617070726f76656420717565727920666f72206e6f6e6560448201526c3c34b9ba32b73a103a37b5b2b760991b60648201526084015b60405180910390fd5b506000908152600660205260409020546001600160a01b031690565b816108f481611587565b6108fe8383611640565b505050565b826001600160a01b038116331461091d5761091d33611587565b610928848484611752565b50505050565b600061093983610d99565b82106109925760405162461bcd60e51b815260206004820152602260248201527f455243373231413a206f776e657220696e646578206f7574206f6620626f756e604482015261647360f01b60648201526084016108c5565b600061099d60015490565b905060008060005b83811015610a34576000818152600460209081526040918290208251808401909352546001600160a01b038116808452600160a01b90910467ffffffffffffffff1691830191909152156109f857805192505b876001600160a01b0316836001600160a01b031603610a2b57868403610a24575093506107c292505050565b6001909301925b506001016109a5565b5060405162461bcd60e51b815260206004820152602e60248201527f455243373231413a20756e61626c6520746f2067657420746f6b656e206f662060448201526d0deeedccae440c4f240d2dcc8caf60931b60648201526084016108c5565b6013546040516370a0823160e01b81526001600160a01b0383811660048301526060926000929116906370a0823190602401602060405180830381865afa158015610ae3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b07919061259a565b905080600003610b2b5760408051600080825260208201909252905b509392505050565b60008167ffffffffffffffff811115610b4657610b4661239d565b604051908082528060200260200182016040528015610b6f578160200160208202803683370190505b50905060005b82811015610b2357601354604051632f745c5960e01b81526001600160a01b0387811660048301526024820184905290911690632f745c5990604401602060405180830381865afa158015610bce573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bf2919061259a565b828281518110610c0457610c046125b3565b602090810291909101015280610c19816125df565b915050610b75565b50919050565b826001600160a01b0381163314610c4157610c4133611587565b61092884848461175d565b6008546001600160a01b0316331480610c6f57506009546001600160a01b031633145b610c8b5760405162461bcd60e51b81526004016108c5906125f8565b600f55565b6000610c9b60015490565b8210610cf55760405162461bcd60e51b815260206004820152602360248201527f455243373231413a20676c6f62616c20696e646578206f7574206f6620626f756044820152626e647360e81b60648201526084016108c5565b5090565b6000610d0482611778565b5192915050565b600b8054610d1890612566565b80601f0160208091040260200160405190810160405280929190818152602001828054610d4490612566565b8015610d915780601f10610d6657610100808354040283529160200191610d91565b820191906000526020600020905b815481529060010190602001808311610d7457829003601f168201915b505050505081565b60006001600160a01b038216610e055760405162461bcd60e51b815260206004820152602b60248201527f455243373231413a2062616c616e636520717565727920666f7220746865207a60448201526a65726f206164647265737360a81b60648201526084016108c5565b506001600160a01b03166000908152600560205260409020546001600160801b031690565b6008546001600160a01b0316331480610e4d57506009546001600160a01b031633145b610e695760405162461bcd60e51b81526004016108c5906125f8565b610e73600061184f565b565b6008546001600160a01b0316331480610e9857506009546001600160a01b031633145b610eb45760405162461bcd60e51b81526004016108c5906125f8565b6010805460ff19811660ff90911615179055565b6008546001600160a01b0316331480610eeb57506009546001600160a01b031633145b610f075760405162461bcd60e51b81526004016108c5906125f8565b601054610100900460ff16610f6f5760405162461bcd60e51b815260206004820152602860248201527f4d696e7420746f20636f6d6d756e6974792077616c6c6574206973206e6f74206044820152671b1a5d99481e595d60c21b60648201526084016108c5565b808210610faf5760405162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a5908185b5bdd5b9d60921b60448201526064016108c5565b815b818110156108fe576000818152601260205260409020546001600160a01b0316611055576000818155601480546001600160a01b0390811683526011602090815260408085208686528252808520805460ff191660019081179091559354855486526012909252842080546001600160a01b03191691909216179055805491611039836125df565b9091555050601454611055906001600160a01b031660016118a1565b8061105f816125df565b915050610fb1565b6060600380546107d790612566565b6008546001600160a01b031633148061109957506009546001600160a01b031633145b6110b55760405162461bcd60e51b81526004016108c5906125f8565b6110bf82826118a1565b5050565b60105460ff1661110c5760405162461bcd60e51b8152602060048201526014602482015273135a5b9d081a5cc81b9bdd081b1a5d99481e595d60621b60448201526064016108c5565b600e548160015461111d919061262d565b11156111555760405162461bcd60e51b81526020600482015260076024820152664e6f206d6f726560c81b60448201526064016108c5565b600d5481111561119c5760405162461bcd60e51b815260206004820152601260248201527113585e081c195c881516081c995858da195960721b60448201526064016108c5565b6010546201000090046001600160a01b031633036111ef5760405162461bcd60e51b815260206004820152601060248201526f165bdd4818d85b881b9bdd081b5a5b9d60821b60448201526064016108c5565b60006111fa33610a94565b33600090815260156020526040902054815191925061121891612645565b82111561125c5760405162461bcd60e51b8152602060048201526012602482015271125b9d985b1a59081b5a5b9d0818dbdd5b9d60721b60448201526064016108c5565b60005b828110156108fe5761127133836118bb565b600081815533808252601160209081526040808420948452938152838320805460ff19166001179055825483526012815283832080546001600160a01b03191683179055908252601590529081208054916112cb836125df565b9091555050600180549060006112e0836125df565b91905055506112f03360016118a1565b806112fa816125df565b91505061125f565b6008546001600160a01b031633148061132557506009546001600160a01b031633145b6113415760405162461bcd60e51b81526004016108c5906125f8565b80516110bf90600b906020840190612153565b8161135e81611587565b6108fe8383611932565b836001600160a01b03811633146113825761138233611587565b61138e858585856119f6565b5050505050565b60606113a2826000541190565b6114065760405162461bcd60e51b815260206004820152602f60248201527f4552433732314d657461646174613a2055524920717565727920666f72206e6f60448201526e3732bc34b9ba32b73a103a37b5b2b760891b60648201526084016108c5565b6000611410611a29565b905060008151116114305760405180602001604052806000815250611465565b8061144461143f85600161262d565b611a38565b60405160200161145592919061265c565b6040516020818303038152906040525b9392505050565b6008546001600160a01b031633148061148f57506009546001600160a01b031633145b6114ab5760405162461bcd60e51b81526004016108c5906125f8565b6010805461ff001981166101009182900460ff1615909102179055565b6008546001600160a01b03163314806114eb57506009546001600160a01b031633145b6115075760405162461bcd60e51b81526004016108c5906125f8565b6001600160a01b03811661156c5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016108c5565b6115758161184f565b50565b6001600160a01b03163b151590565b6daaeb6d7670e522a718067333cd4e3b1561157557604051633185c44d60e21b81523060048201526001600160a01b03821660248201526daaeb6d7670e522a718067333cd4e9063c617113490604401602060405180830381865afa1580156115f4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611618919061269b565b61157557604051633b79c77360e21b81526001600160a01b03821660048201526024016108c5565b600061164b82610cf9565b9050806001600160a01b0316836001600160a01b0316036116b95760405162461bcd60e51b815260206004820152602260248201527f455243373231413a20617070726f76616c20746f2063757272656e74206f776e60448201526132b960f11b60648201526084016108c5565b336001600160a01b03821614806116d557506116d581336106c1565b6117475760405162461bcd60e51b815260206004820152603960248201527f455243373231413a20617070726f76652063616c6c6572206973206e6f74206f60448201527f776e6572206e6f7220617070726f76656420666f7220616c6c0000000000000060648201526084016108c5565b6108fe838383611b41565b6108fe838383611b9d565b6108fe83838360405180602001604052806000815250611368565b6040805180820190915260008082526020820152611797826000541190565b6117f65760405162461bcd60e51b815260206004820152602a60248201527f455243373231413a206f776e657220717565727920666f72206e6f6e657869736044820152693a32b73a103a37b5b2b760b11b60648201526084016108c5565b815b6000818152600460209081526040918290208251808401909352546001600160a01b038116808452600160a01b90910467ffffffffffffffff169183019190915215611845579392505050565b50600019016117f8565b600880546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6110bf828260405180602001604052806000815250611e7f565b6000805b825181101561192b578281815181106118da576118da6125b3565b6020908102919091018101516001600160a01b0386166000908152601183526040808220838352909352919091205490925060ff1661191957506107c2565b80611923816125df565b9150506118bf565b5092915050565b336001600160a01b0383160361198a5760405162461bcd60e51b815260206004820152601a60248201527f455243373231413a20617070726f766520746f2063616c6c657200000000000060448201526064016108c5565b3360008181526007602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b611a01848484611b9d565b611a0d84848484611e8c565b6109285760405162461bcd60e51b81526004016108c5906126b8565b6060600b80546107d790612566565b606081600003611a5f5750506040805180820190915260018152600360fc1b602082015290565b8160005b8115611a895780611a73816125df565b9150611a829050600a83612721565b9150611a63565b60008167ffffffffffffffff811115611aa457611aa461239d565b6040519080825280601f01601f191660200182016040528015611ace576020820181803683370190505b5090505b8415611b3957611ae3600183612645565b9150611af0600a86612735565b611afb90603061262d565b60f81b818381518110611b1057611b106125b3565b60200101906001600160f81b031916908160001a905350611b32600a86612721565b9450611ad2565b949350505050565b60008281526006602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b6000611ba882611778565b80519091506000906001600160a01b0316336001600160a01b03161480611bdf575033611bd48461085a565b6001600160a01b0316145b80611bf157508151611bf190336106c1565b905080611c5b5760405162461bcd60e51b815260206004820152603260248201527f455243373231413a207472616e736665722063616c6c6572206973206e6f74206044820152711bdddb995c881b9bdc88185c1c1c9bdd995960721b60648201526084016108c5565b846001600160a01b031682600001516001600160a01b031614611ccf5760405162461bcd60e51b815260206004820152602660248201527f455243373231413a207472616e736665722066726f6d20696e636f72726563746044820152651037bbb732b960d11b60648201526084016108c5565b6001600160a01b038416611d335760405162461bcd60e51b815260206004820152602560248201527f455243373231413a207472616e7366657220746f20746865207a65726f206164604482015264647265737360d81b60648201526084016108c5565b611d436000848460000151611b41565b6001600160a01b03858116600090815260056020908152604080832080546001600160801b03198082166001600160801b03928316600019018316179092558986168086528386208054938416938316600190810190931693909317909255888552600490935281842080546001600160e01b031916909117600160a01b4267ffffffffffffffff1602179055908601808352912054909116611e3857611deb816000541190565b15611e38578251600082815260046020908152604090912080549186015167ffffffffffffffff16600160a01b026001600160e01b03199092166001600160a01b03909316929092171790555b5082846001600160a01b0316866001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461138e565b6108fe8383836001611f8d565b60006001600160a01b0384163b15611f8257604051630a85bd0160e11b81526001600160a01b0385169063150b7a0290611ed0903390899088908890600401612749565b6020604051808303816000875af1925050508015611f0b575060408051601f3d908101601f19168201909252611f0891810190612786565b60015b611f68573d808015611f39576040519150601f19603f3d011682016040523d82523d6000602084013e611f3e565b606091505b508051600003611f605760405162461bcd60e51b81526004016108c5906126b8565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050611b39565b506001949350505050565b6000546001600160a01b038516611ff05760405162461bcd60e51b815260206004820152602160248201527f455243373231413a206d696e7420746f20746865207a65726f206164647265736044820152607360f81b60648201526084016108c5565b836000036120515760405162461bcd60e51b815260206004820152602860248201527f455243373231413a207175616e74697479206d75737420626520677265617465604482015267072207468616e20360c41b60648201526084016108c5565b6001600160a01b03851660008181526005602090815260408083208054600160801b6001600160801b031982166001600160801b039283168c01831690811782900483168c01909216021790558483526004909152812080546001600160e01b031916909217600160a01b4267ffffffffffffffff16021790915581905b8581101561214a5760405182906001600160a01b038916906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a4831561213e576121226000888488611e8c565b61213e5760405162461bcd60e51b81526004016108c5906126b8565b600191820191016120cf565b5060005561138e565b82805461215f90612566565b90600052602060002090601f01602090048101928261218157600085556121c7565b82601f1061219a57805160ff19168380011785556121c7565b828001600101855582156121c7579182015b828111156121c75782518255916020019190600101906121ac565b50610cf59291505b80821115610cf557600081556001016121cf565b6001600160e01b03198116811461157557600080fd5b60006020828403121561220b57600080fd5b8135611465816121e3565b60005b83811015612231578181015183820152602001612219565b838111156109285750506000910152565b6000815180845261225a816020860160208601612216565b601f01601f19169290920160200192915050565b6020815260006114656020830184612242565b60006020828403121561229357600080fd5b5035919050565b80356001600160a01b03811681146122b157600080fd5b919050565b600080604083850312156122c957600080fd5b6122d28361229a565b946020939093013593505050565b6000806000606084860312156122f557600080fd5b6122fe8461229a565b925061230c6020850161229a565b9150604084013590509250925092565b60006020828403121561232e57600080fd5b6114658261229a565b6020808252825182820181905260009190848201906040850190845b8181101561236f57835183529284019291840191600101612353565b50909695505050505050565b6000806040838503121561238e57600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff808411156123ce576123ce61239d565b604051601f8501601f19908116603f011681019082821181831017156123f6576123f661239d565b8160405280935085815286868601111561240f57600080fd5b858560208301376000602087830101525050509392505050565b60006020828403121561243b57600080fd5b813567ffffffffffffffff81111561245257600080fd5b8201601f8101841361246357600080fd5b611b39848235602084016123b3565b801515811461157557600080fd5b6000806040838503121561249357600080fd5b61249c8361229a565b915060208301356124ac81612472565b809150509250929050565b600080600080608085870312156124cd57600080fd5b6124d68561229a565b93506124e46020860161229a565b925060408501359150606085013567ffffffffffffffff81111561250757600080fd5b8501601f8101871361251857600080fd5b612527878235602084016123b3565b91505092959194509250565b6000806040838503121561254657600080fd5b61254f8361229a565b915061255d6020840161229a565b90509250929050565b600181811c9082168061257a57607f821691505b602082108103610c2157634e487b7160e01b600052602260045260246000fd5b6000602082840312156125ac57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016125f1576125f16125c9565b5060010190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b60008219821115612640576126406125c9565b500190565b600082821015612657576126576125c9565b500390565b6000835161266e818460208801612216565b835190830190612682818360208801612216565b64173539b7b760d91b9101908152600501949350505050565b6000602082840312156126ad57600080fd5b815161146581612472565b60208082526033908201527f455243373231413a207472616e7366657220746f206e6f6e204552433732315260408201527232b1b2b4bb32b91034b6b83632b6b2b73a32b960691b606082015260800190565b634e487b7160e01b600052601260045260246000fd5b6000826127305761273061270b565b500490565b6000826127445761274461270b565b500690565b6001600160a01b038581168252841660208201526040810183905260806060820181905260009061277c90830184612242565b9695505050505050565b60006020828403121561279857600080fd5b8151611465816121e356fea2646970667358221220dd7cbe51f2f06f5d71415c3d7fa7eaa16bfacc1ee9b8c32186deb4f809af223764736f6c634300080d0033