60806040526004361061021a5760003560e01c8063653a819e11610123578063a71bbebe116100ab578063dd48f07d1161006f578063dd48f07d146106d1578063e985e9c5146106f5578063ef6b141a14610715578063f2fde38b14610735578063f4e2ae581461075557600080fd5b8063a71bbebe1461063c578063b88d4fde1461064f578063c23dc68f1461066f578063c87b56dd1461069c578063d4a67623146106bc57600080fd5b80638462151c116100f25780638462151c1461059c5780638da5cb5b146105c957806395d89b41146105e757806399a2557a146105fc578063a22cb4651461061c57600080fd5b8063653a819e1461052757806370a0823114610547578063715018a614610567578063750521f51461057c57600080fd5b806323b872dd116101a65780634df22a54116101755780634df22a54146104585780634df8bb45146104795780635bbb2177146104a65780636352211e146104d357806363553e7c146104f357600080fd5b806323b872dd146103c45780632a55205a146103e45780633ccfd60b1461042357806342842e0e1461043857600080fd5b80630e2351e2116101ed5780630e2351e2146102d057806317a5aced1461031957806318160ddd1461033957806322f4596f1461035c578063235b6ea11461039057600080fd5b806301ffc9a71461021f57806306fdde0314610254578063081812fc14610276578063095ea7b3146102ae575b600080fd5b34801561022b57600080fd5b5061023f61023a366004612143565b610789565b60405190151581526020015b60405180910390f35b34801561026057600080fd5b506102696107cf565b60405161024b91906121b8565b34801561028257600080fd5b506102966102913660046121cb565b610861565b6040516001600160a01b03909116815260200161024b565b3480156102ba57600080fd5b506102ce6102c9366004612200565b6108a5565b005b3480156102dc57600080fd5b506103047f00000000000000000000000000000000000000000000000000000000000000c881565b60405163ffffffff909116815260200161024b565b34801561032557600080fd5b506102ce61033436600461223e565b610945565b34801561034557600080fd5b50600354600254035b60405190815260200161024b565b34801561036857600080fd5b506103047f000000000000000000000000000000000000000000000000000000000000133a81565b34801561039c57600080fd5b5061034e7f0000000000000000000000000000000000000000000000000019ef4fb2dc400081565b3480156103d057600080fd5b506102ce6103df366004612271565b610a27565b3480156103f057600080fd5b506104046103ff3660046122ad565b610bb8565b604080516001600160a01b03909316835260208301919091520161024b565b34801561042f57600080fd5b506102ce610c64565b34801561044457600080fd5b506102ce610453366004612271565b610c78565b34801561046457600080fd5b50600a5461023f90600160a01b900460ff1681565b34801561048557600080fd5b506104996104943660046122cf565b610c98565b60405161024b91906122ea565b3480156104b257600080fd5b506104c66104c13660046123a7565b610e1e565b60405161024b9190612488565b3480156104df57600080fd5b506102966104ee3660046121cb565b610eeb565b3480156104ff57600080fd5b506103047f000000000000000000000000000000000000000000000000000000000000001481565b34801561053357600080fd5b506102ce6105423660046124ca565b610ef6565b34801561055357600080fd5b5061034e6105623660046122cf565b610f1c565b34801561057357600080fd5b506102ce610f6a565b34801561058857600080fd5b506102ce61059736600461254a565b610f7c565b3480156105a857600080fd5b506105bc6105b73660046122cf565b610f97565b60405161024b9190612592565b3480156105d557600080fd5b50600a546001600160a01b0316610296565b3480156105f357600080fd5b506102696110a6565b34801561060857600080fd5b506105bc6106173660046125ca565b6110b5565b34801561062857600080fd5b506102ce61063736600461260d565b611232565b6102ce61064a366004612637565b6112c8565b34801561065b57600080fd5b506102ce61066a366004612652565b6115e7565b34801561067b57600080fd5b5061068f61068a3660046121cb565b611631565b60405161024b91906126cd565b3480156106a857600080fd5b506102696106b73660046121cb565b6116a9565b3480156106c857600080fd5b50610269611792565b3480156106dd57600080fd5b50600a5461030490600160a81b900463ffffffff1681565b34801561070157600080fd5b5061023f6107103660046126db565b611820565b34801561072157600080fd5b506102ce610730366004612705565b61184e565b34801561074157600080fd5b506102ce6107503660046122cf565b611874565b34801561076157600080fd5b506103047f000000000000000000000000000000000000000000000000000000000000000a81565b60006001600160e01b0319821663152a902d60e11b14806107ba57506001600160e01b0319821663184371e560e31b145b806107c957506107c9826118ea565b92915050565b6060600480546107de90612720565b80601f016020809104026020016040519081016040528092919081815260200182805461080a90612720565b80156108575780601f1061082c57610100808354040283529160200191610857565b820191906000526020600020905b81548152906001019060200180831161083a57829003601f168201915b5050505050905090565b600061086c82611938565b610889576040516333d1c03960e21b815260040160405180910390fd5b506000908152600860205260409020546001600160a01b031690565b60006108b082610eeb565b9050336001600160a01b038216146108e9576108cc8133611820565b6108e9576040516367d9dca160e11b815260040160405180910390fd5b60008281526008602052604080822080546001600160a01b0319166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b61094d611960565b80600a60158282829054906101000a900463ffffffff1661096e9190612771565b92506101000a81548163ffffffff021916908363ffffffff1602179055507f000000000000000000000000000000000000000000000000000000000000000a63ffffffff16600a60159054906101000a900463ffffffff1663ffffffff161115610a135760405162461bcd60e51b8152602060048201526011602482015270457863656564206d617820737570706c7960781b60448201526064015b60405180910390fd5b610a23828263ffffffff166119ba565b5050565b6000610a32826119d4565b9050836001600160a01b0316816001600160a01b031614610a655760405162a1148160e81b815260040160405180910390fd5b60008281526008602052604090208054338082146001600160a01b03881690911417610ab257610a958633611820565b610ab257604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b038516610ad957604051633a954ecd60e21b815260040160405180910390fd5b8015610ae457600082555b6001600160a01b038681166000908152600760205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260066020526040902055600160e11b8316610b6f5760018401600081815260066020526040902054610b6d576002548114610b6d5760008181526006602052604090208490555b505b83856001600160a01b0316876001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050505050565b60008281526001602090815260408083208151808301909252546001600160a01b038116808352600160a01b9091046001600160601b0316928201929092528291610c2d5750604080518082019091526000546001600160a01b0381168252600160a01b90046001600160601b031660208201525b602081015160009061271090610c4c906001600160601b031687612799565b610c5691906127ce565b915196919550909350505050565b610c6c611960565b610c763347611a35565b565b610c93838383604051806020016040528060008152506115e7565b505050565b6040805161010081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101919091526040518061010001604052807f0000000000000000000000000000000000000000000000000019ef4fb2dc400081526020017f000000000000000000000000000000000000000000000000000000000000001463ffffffff1681526020017f00000000000000000000000000000000000000000000000000000000000000c863ffffffff1681526020017f000000000000000000000000000000000000000000000000000000000000133a63ffffffff1681526020017f000000000000000000000000000000000000000000000000000000000000000a63ffffffff168152602001610dc460025490565b63ffffffff168152602001610dfb846001600160a01b03166000908152600760205260409081902054901c6001600160401b031690565b63ffffffff168152600a54600160a01b900460ff16151560209091015292915050565b80516060906000816001600160401b03811115610e3d57610e3d612361565b604051908082528060200260200182016040528015610e8f57816020015b604080516080810182526000808252602080830182905292820181905260608201528252600019909201910181610e5b5790505b50905060005b828114610ee357610ebe858281518110610eb157610eb16127e2565b6020026020010151611631565b828281518110610ed057610ed06127e2565b6020908102919091010152600101610e95565b509392505050565b60006107c9826119d4565b610efe611960565b610f19610f13600a546001600160a01b031690565b82611b4e565b50565b60006001600160a01b038216610f45576040516323d3ad8160e21b815260040160405180910390fd5b506001600160a01b03166000908152600760205260409020546001600160401b031690565b610f72611960565b610c766000611c4b565b610f84611960565b8051610a2390600b906020840190612094565b60606000806000610fa785610f1c565b90506000816001600160401b03811115610fc357610fc3612361565b604051908082528060200260200182016040528015610fec578160200160208202803683370190505b50905061101960408051608081018252600080825260208201819052918101829052606081019190915290565b60005b83861461109a5761102c81611c9d565b915081604001511561103d57611092565b81516001600160a01b03161561105257815194505b876001600160a01b0316856001600160a01b031614156110925780838780600101985081518110611085576110856127e2565b6020026020010181815250505b60010161101c565b50909695505050505050565b6060600580546107de90612720565b60608183106110d757604051631960ccad60e11b815260040160405180910390fd5b6000806110e360025490565b9050808411156110f1578093505b60006110fc87610f1c565b90508486101561111b5785850381811015611115578091505b5061111f565b5060005b6000816001600160401b0381111561113957611139612361565b604051908082528060200260200182016040528015611162578160200160208202803683370190505b5090508161117557935061122b92505050565b600061118088611631565b905060008160400151611191575080515b885b8881141580156111a35750848714155b1561121f576111b181611c9d565b92508260400151156111c257611217565b82516001600160a01b0316156111d757825191505b8a6001600160a01b0316826001600160a01b03161415611217578084888060010199508151811061120a5761120a6127e2565b6020026020010181815250505b600101611193565b50505092835250909150505b9392505050565b6001600160a01b03821633141561125c5760405163b06307db60e01b815260040160405180910390fd5b3360008181526009602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b600a54600160a01b900460ff166113175760405162461bcd60e51b815260206004820152601360248201527214d85b19481a5cc81b9bdd081cdd185c9d1959606a1b6044820152606401610a0a565b6113617f000000000000000000000000000000000000000000000000000000000000000a7f000000000000000000000000000000000000000000000000000000000000133a6127f8565b63ffffffff1661137060025490565b6113809063ffffffff841661281d565b11156113c25760405162461bcd60e51b8152602060048201526011602482015270457863656564206d617820737570706c7960781b6044820152606401610a0a565b7f000000000000000000000000000000000000000000000000000000000000001463ffffffff168163ffffffff16111561143e5760405162461bcd60e51b815260206004820152601860248201527f457863656564207472616e73616374696f6e206c696d697400000000000000006044820152606401610a0a565b336000908152600760205260409081902054901c6001600160401b031680156114da576114917f0000000000000000000000000000000000000000000000000019ef4fb2dc400063ffffffff8416612799565b3410156114d55760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742066756e647360701b6044820152606401610a0a565b61155a565b7f0000000000000000000000000000000000000000000000000019ef4fb2dc40006115066001846127f8565b63ffffffff166115169190612799565b34101561155a5760405162461bcd60e51b8152602060048201526012602482015271496e73756666696369656e742066756e647360701b6044820152606401610a0a565b7f00000000000000000000000000000000000000000000000000000000000000c863ffffffff168263ffffffff1682611593919061281d565b11156115d75760405162461bcd60e51b8152602060048201526013602482015272115e18d95959081dd85b1b195d081b1a5b5a5d606a1b6044820152606401610a0a565b610a23338363ffffffff166119ba565b6115f2848484610a27565b6001600160a01b0383163b1561162b5761160e84848484611cd9565b61162b576040516368d2bf6b60e11b815260040160405180910390fd5b50505050565b60408051608080820183526000808352602080840182905283850182905260608085018390528551938401865282845290830182905293820181905292810183905290915060025483106116855792915050565b61168e83611c9d565b90508060400151156116a05792915050565b61122b83611dd1565b60606116b482611938565b6116d157604051630a14c4b560e41b815260040160405180910390fd5b6000600b80546116e090612720565b80601f016020809104026020016040519081016040528092919081815260200182805461170c90612720565b80156117595780601f1061172e57610100808354040283529160200191611759565b820191906000526020600020905b81548152906001019060200180831161173c57829003601f168201915b505050505090508061176a84611e06565b60405160200161177b929190612835565b604051602081830303815290604052915050919050565b600b805461179f90612720565b80601f01602080910402602001604051908101604052809291908181526020018280546117cb90612720565b80156118185780601f106117ed57610100808354040283529160200191611818565b820191906000526020600020905b8154815290600101906020018083116117fb57829003601f168201915b505050505081565b6001600160a01b03918216600090815260096020908152604080832093909416825291909152205460ff1690565b611856611960565b600a8054911515600160a01b0260ff60a01b19909216919091179055565b61187c611960565b6001600160a01b0381166118e15760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610a0a565b610f1981611c4b565b60006301ffc9a760e01b6001600160e01b03198316148061191b57506380ac58cd60e01b6001600160e01b03198316145b806107c95750506001600160e01b031916635b5e139f60e01b1490565b6000600254821080156107c9575050600090815260066020526040902054600160e01b161590565b600a546001600160a01b03163314610c765760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610a0a565b610a23828260405180602001604052806000815250611f03565b600081600254811015611a1c57600081815260066020526040902054600160e01b8116611a1a575b8061122b5750600019016000818152600660205260409020546119fc565b505b604051636f96cda160e11b815260040160405180910390fd5b80471015611a855760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152606401610a0a565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114611ad2576040519150601f19603f3d011682016040523d82523d6000602084013e611ad7565b606091505b5050905080610c935760405162461bcd60e51b815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d617920686176652072657665727465640000000000006064820152608401610a0a565b6127106001600160601b0382161115611bbc5760405162461bcd60e51b815260206004820152602a60248201527f455243323938313a20726f79616c7479206665652077696c6c206578636565646044820152692073616c65507269636560b01b6064820152608401610a0a565b6001600160a01b038216611c125760405162461bcd60e51b815260206004820152601960248201527f455243323938313a20696e76616c6964207265636569766572000000000000006044820152606401610a0a565b604080518082019091526001600160a01b039092168083526001600160601b039091166020909201829052600160a01b90910217600055565b600a80546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6040805160808101825260008082526020820181905291810182905260608101919091526000828152600660205260409020546107c990611f70565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a0290611d0e90339089908890889060040161285b565b602060405180830381600087803b158015611d2857600080fd5b505af1925050508015611d58575060408051601f3d908101601f19168201909252611d5591810190612898565b60015b611db3573d808015611d86576040519150601f19603f3d011682016040523d82523d6000602084013e611d8b565b606091505b508051611dab576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b1490505b949350505050565b6040805160808101825260008082526020820181905291810182905260608101919091526107c9611e01836119d4565b611f70565b606081611e2a5750506040805180820190915260018152600360fc1b602082015290565b8160005b8115611e545780611e3e816128b5565b9150611e4d9050600a836127ce565b9150611e2e565b6000816001600160401b03811115611e6e57611e6e612361565b6040519080825280601f01601f191660200182016040528015611e98576020820181803683370190505b5090505b8415611dc957611ead6001836128d0565b9150611eba600a866128e7565b611ec590603061281d565b60f81b818381518110611eda57611eda6127e2565b60200101906001600160f81b031916908160001a905350611efc600a866127ce565b9450611e9c565b611f0d8383611fb7565b6001600160a01b0383163b15610c93576002548281035b611f376000868380600101945086611cd9565b611f54576040516368d2bf6b60e11b815260040160405180910390fd5b818110611f24578160025414611f6957600080fd5b5050505050565b604080516080810182526001600160a01b038316815260a083901c6001600160401b03166020820152600160e01b831615159181019190915260e89190911c606082015290565b6002546001600160a01b038316611fe057604051622e076360e81b815260040160405180910390fd5b81611ffe5760405163b562e8dd60e01b815260040160405180910390fd5b6001600160a01b038316600081815260076020526040902080546801000000000000000185020190554260a01b6001841460e11b1717600082815260066020526040902055808281015b6040516001830192906001600160a01b038716906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a48082106120485760025550505050565b8280546120a090612720565b90600052602060002090601f0160209004810192826120c25760008555612108565b82601f106120db57805160ff1916838001178555612108565b82800160010185558215612108579182015b828111156121085782518255916020019190600101906120ed565b50612114929150612118565b5090565b5b808211156121145760008155600101612119565b6001600160e01b031981168114610f1957600080fd5b60006020828403121561215557600080fd5b813561122b8161212d565b60005b8381101561217b578181015183820152602001612163565b8381111561162b5750506000910152565b600081518084526121a4816020860160208601612160565b601f01601f19169290920160200192915050565b60208152600061122b602083018461218c565b6000602082840312156121dd57600080fd5b5035919050565b80356001600160a01b03811681146121fb57600080fd5b919050565b6000806040838503121561221357600080fd5b61221c836121e4565b946020939093013593505050565b803563ffffffff811681146121fb57600080fd5b6000806040838503121561225157600080fd5b61225a836121e4565b91506122686020840161222a565b90509250929050565b60008060006060848603121561228657600080fd5b61228f846121e4565b925061229d602085016121e4565b9150604084013590509250925092565b600080604083850312156122c057600080fd5b50508035926020909101359150565b6000602082840312156122e157600080fd5b61122b826121e4565b60006101008201905082518252602083015163ffffffff80821660208501528060408601511660408501528060608601511660608501528060808601511660808501528060a08601511660a08501528060c08601511660c0850152505060e083015161235a60e084018215159052565b5092915050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561239f5761239f612361565b604052919050565b600060208083850312156123ba57600080fd5b82356001600160401b03808211156123d157600080fd5b818501915085601f8301126123e557600080fd5b8135818111156123f7576123f7612361565b8060051b9150612408848301612377565b818152918301840191848101908884111561242257600080fd5b938501935b8385101561244057843582529385019390850190612427565b98975050505050505050565b80516001600160a01b031682526020808201516001600160401b03169083015260408082015115159083015260609081015162ffffff16910152565b6020808252825182820181905260009190848201906040850190845b8181101561109a576124b783855161244c565b92840192608092909201916001016124a4565b6000602082840312156124dc57600080fd5b81356001600160601b038116811461122b57600080fd5b60006001600160401b0383111561250c5761250c612361565b61251f601f8401601f1916602001612377565b905082815283838301111561253357600080fd5b828260208301376000602084830101529392505050565b60006020828403121561255c57600080fd5b81356001600160401b0381111561257257600080fd5b8201601f8101841361258357600080fd5b611dc9848235602084016124f3565b6020808252825182820181905260009190848201906040850190845b8181101561109a578351835292840192918401916001016125ae565b6000806000606084860312156125df57600080fd5b6125e8846121e4565b95602085013595506040909401359392505050565b803580151581146121fb57600080fd5b6000806040838503121561262057600080fd5b612629836121e4565b9150612268602084016125fd565b60006020828403121561264957600080fd5b61122b8261222a565b6000806000806080858703121561266857600080fd5b612671856121e4565b935061267f602086016121e4565b92506040850135915060608501356001600160401b038111156126a157600080fd5b8501601f810187136126b257600080fd5b6126c1878235602084016124f3565b91505092959194509250565b608081016107c9828461244c565b600080604083850312156126ee57600080fd5b6126f7836121e4565b9150612268602084016121e4565b60006020828403121561271757600080fd5b61122b826125fd565b600181811c9082168061273457607f821691505b6020821081141561275557634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b600063ffffffff8083168185168083038211156127905761279061275b565b01949350505050565b60008160001904831182151516156127b3576127b361275b565b500290565b634e487b7160e01b600052601260045260246000fd5b6000826127dd576127dd6127b8565b500490565b634e487b7160e01b600052603260045260246000fd5b600063ffffffff838116908316818110156128155761281561275b565b039392505050565b600082198211156128305761283061275b565b500190565b60008351612847818460208801612160565b835190830190612790818360208801612160565b6001600160a01b038581168252841660208201526040810183905260806060820181905260009061288e9083018461218c565b9695505050505050565b6000602082840312156128aa57600080fd5b815161122b8161212d565b60006000198214156128c9576128c961275b565b5060010190565b6000828210156128e2576128e261275b565b500390565b6000826128f6576128f66127b8565b50069056fea264697066735822122051c816d184e5b93638d5d5e17fb3571123cd1049c8594e3e6d5a508915eebcf664736f6c63430008090033