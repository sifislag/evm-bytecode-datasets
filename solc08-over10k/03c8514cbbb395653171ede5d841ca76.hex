6080604052600436106102195760003560e01c806370a082311161011d57806399a2557a116100b0578063c23dc68f1161007f578063e985e9c511610064578063e985e9c514610620578063f2fde38b14610669578063fb796e6c1461068957600080fd5b8063c23dc68f146105d3578063c87b56dd1461060057600080fd5b806399a2557a14610560578063a22cb46514610580578063b7c0b8e8146105a0578063b88d4fde146105c057600080fd5b80638462151c116100ec5780638462151c146104c75780638da5cb5b146104f457806395d89b4114610512578063981332351461052757600080fd5b806370a0823114610463578063715018a6146104835780637ba5e621146104985780637e4831d3146104ad57600080fd5b806323b872dd116101b057806342966c681161017f5780635bbb2177116101645780635bbb2177146104035780636352211e146104305780636ecd23061461045057600080fd5b806342966c68146103c357806355f804b3146103e357600080fd5b806323b872dd146103495780632a55205a1461035c5780633ccfd60b1461039b57806342842e0e146103b057600080fd5b8063095ea7b3116101ec578063095ea7b3146102cf57806314d38725146102e257806318160ddd146103025780631b1f40191461032957600080fd5b806301ffc9a71461021e57806304634d8d1461025357806306fdde0314610275578063081812fc14610297575b600080fd5b34801561022a57600080fd5b5061023e610239366004611f97565b6106a8565b60405190151581526020015b60405180910390f35b34801561025f57600080fd5b5061027361026e366004611fd0565b6106c8565b005b34801561028157600080fd5b5061028a6106de565b60405161024a9190612068565b3480156102a357600080fd5b506102b76102b236600461207b565b610770565b6040516001600160a01b03909116815260200161024a565b6102736102dd366004612094565b6107cd565b3480156102ee57600080fd5b506102736102fd366004612103565b61081a565b34801561030e57600080fd5b5060025460015403600019015b60405190815260200161024a565b34801561033557600080fd5b5061027361034436600461216f565b6108b8565b610273610357366004612193565b61090f565b34801561036857600080fd5b5061037c6103773660046121cf565b610965565b604080516001600160a01b03909316835260208301919091520161024a565b3480156103a757600080fd5b50610273610a22565b6102736103be366004612193565b610ab7565b3480156103cf57600080fd5b506102736103de36600461207b565b610b07565b3480156103ef57600080fd5b506102736103fe3660046121f1565b610b12565b34801561040f57600080fd5b5061042361041e366004612263565b610b27565b60405161024a91906122a5565b34801561043c57600080fd5b506102b761044b36600461207b565b610bf3565b61027361045e366004612322565b610bfe565b34801561046f57600080fd5b5061031b61047e366004612345565b610dc6565b34801561048f57600080fd5b50610273610e2e565b3480156104a457600080fd5b50610273610e42565b3480156104b957600080fd5b50600b5461023e9060ff1681565b3480156104d357600080fd5b506104e76104e2366004612345565b610e5e565b60405161024a9190612360565b34801561050057600080fd5b506000546001600160a01b03166102b7565b34801561051e57600080fd5b5061028a610f62565b34801561053357600080fd5b50610547610542366004612345565b610f71565b60405167ffffffffffffffff909116815260200161024a565b34801561056c57600080fd5b506104e761057b366004612398565b610f92565b34801561058c57600080fd5b5061027361059b3660046123db565b611133565b3480156105ac57600080fd5b506102736105bb36600461240e565b61117b565b6102736105ce36600461243f565b61119d565b3480156105df57600080fd5b506105f36105ee36600461207b565b6111f5565b60405161024a919061251b565b34801561060c57600080fd5b5061028a61061b36600461207b565b61127d565b34801561062c57600080fd5b5061023e61063b366004612560565b6001600160a01b03918216600090815260086020908152604080832093909416825291909152205460ff1690565b34801561067557600080fd5b50610273610684366004612345565b611319565b34801561069557600080fd5b50600b5461023e90610100900460ff1681565b60006106b3826113ab565b806106c257506106c282611444565b92915050565b6106d0611482565b6106da82826114dc565b5050565b6060600380546106ed9061258a565b80601f01602080910402602001604051908101604052809291908181526020018280546107199061258a565b80156107665780601f1061073b57610100808354040283529160200191610766565b820191906000526020600020905b81548152906001019060200180831161074957829003601f168201915b5050505050905090565b600061077b826115f6565b6107b1576040517fcf4700e400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b506000908152600760205260409020546001600160a01b031690565b81731e0049783f008a0085193e00003d00cd54003c716001600160a01b0382161461080b57600b54610100900460ff161561080b5761080b8161162b565b610815838361166f565b505050565b80838114610854576040517fa24a13a600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60005b818110156108b0576108a833878784818110610875576108756125c4565b905060200201602081019061088a9190612345565b86868581811061089c5761089c6125c4565b9050602002013561090f565b600101610857565b505050505050565b6108c0611482565b61270f8161ffff166108d56001546000190190565b6108df91906125f0565b11156108fe5760405163d05cb60960e01b815260040160405180910390fd5b61090c338261ffff16611735565b50565b826001600160a01b038116331461095457731e0049783f008a0085193e00003d00cd54003c71331461095457600b54610100900460ff1615610954576109543361162b565b61095f848484611866565b50505050565b6000828152600a602090815260408083208151808301909252546001600160a01b038116808352600160a01b9091046bffffffffffffffffffffffff169282019290925282916109e45750604080518082019091526009546001600160a01b0381168252600160a01b90046bffffffffffffffffffffffff1660208201525b602081015160009061271090610a08906bffffffffffffffffffffffff1687612603565b610a12919061261a565b91519350909150505b9250929050565b610a2a611482565b600080546040516001600160a01b039091169047908381818185875af1925050503d8060008114610a77576040519150601f19603f3d011682016040523d82523d6000602084013e610a7c565b606091505b505090508061090c576040517f27fcd9d100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b826001600160a01b0381163314610afc57731e0049783f008a0085193e00003d00cd54003c713314610afc57600b54610100900460ff1615610afc57610afc3361162b565b61095f848484611a38565b61090c816001611a53565b610b1a611482565b600c610815828483612682565b60608160008167ffffffffffffffff811115610b4557610b45612429565b604051908082528060200260200182016040528015610b9757816020015b604080516080810182526000808252602080830182905292820181905260608201528252600019909201910181610b635790505b50905060005b828114610bea57610bc5868683818110610bb957610bb96125c4565b905060200201356111f5565b828281518110610bd757610bd76125c4565b6020908102919091010152600101610b9d565b50949350505050565b60006106c282611bb7565b600b5460ff1615610c3b576040517feb56075600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61270f8160ff16610c4f6001546000190190565b610c5991906125f0565b1115610c785760405163d05cb60960e01b815260040160405180910390fd5b60068160ff161115610cb6576040517f4b231f9500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b333214610cef576040517fbe15cf3900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b33600090815260066020526040902054819060c01c6001811015610d6357610d18600184612742565b336000908152600660205260409020805477ffffffffffffffffffffffffffffffffffffffffffffffff16780100000000000000000000000000000000000000000000000017905591505b60ff821615610db957610d80661ff973cafa800060ff8416612603565b341015610db9576040517f31fc877f00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610815338460ff16611735565b60006001600160a01b038216610e08576040517f8f4eb60400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b506001600160a01b031660009081526006602052604090205467ffffffffffffffff1690565b610e36611482565b610e406000611c3f565b565b610e4a611482565b600b805460ff19811660ff90911615179055565b60606000806000610e6e85610dc6565b905060008167ffffffffffffffff811115610e8b57610e8b612429565b604051908082528060200260200182016040528015610eb4578160200160208202803683370190505b5060408051608081018252600080825260208201819052918101829052606081019190915290915060015b838614610f5657610eef81611c9c565b91508160400151610f4e5781516001600160a01b031615610f0f57815194505b876001600160a01b0316856001600160a01b031603610f4e5780838780600101985081518110610f4157610f416125c4565b6020026020010181815250505b600101610edf565b50909695505050505050565b6060600480546106ed9061258a565b6001600160a01b03811660009081526006602052604081205460c01c6106c2565b6060818310610fcd576040517f32c1995a00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600080610fd960015490565b90506001851015610fe957600194505b80841115610ff5578093505b600061100087610dc6565b90508486101561101f5785850381811015611019578091505b50611023565b5060005b60008167ffffffffffffffff81111561103e5761103e612429565b604051908082528060200260200182016040528015611067578160200160208202803683370190505b5090508160000361107d57935061112c92505050565b6000611088886111f5565b905060008160400151611099575080515b885b8881141580156110ab5750848714155b15611120576110b981611c9c565b925082604001516111185782516001600160a01b0316156110d957825191505b8a6001600160a01b0316826001600160a01b031603611118578084888060010199508151811061110b5761110b6125c4565b6020026020010181815250505b60010161109b565b50505092835250909150505b9392505050565b81731e0049783f008a0085193e00003d00cd54003c716001600160a01b0382161461117157600b54610100900460ff1615611171576111718161162b565b6108158383611d1b565b611183611482565b600b80549115156101000261ff0019909216919091179055565b836001600160a01b03811633146111e257731e0049783f008a0085193e00003d00cd54003c7133146111e257600b54610100900460ff16156111e2576111e23361162b565b6111ee85858585611d87565b5050505050565b604080516080810182526000808252602082018190529181018290526060810191909152604080516080810182526000808252602082018190529181018290526060810191909152600183108061124e57506001548310155b156112595792915050565b61126283611c9c565b90508060400151156112745792915050565b61112c83611dcb565b6060611288826115f6565b6112be576040517fa14c4b5000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60006112c8611e43565b905080516000036112e8576040518060200160405280600081525061112c565b806112f284611e52565b60405160200161130392919061275b565b6040516020818303038152906040529392505050565b611321611482565b6001600160a01b0381166113a25760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b61090c81611c3f565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000006001600160e01b03198316148061140e57507f80ac58cd000000000000000000000000000000000000000000000000000000006001600160e01b03198316145b806106c25750506001600160e01b0319167f5b5e139f000000000000000000000000000000000000000000000000000000001490565b60006001600160e01b031982167f2a55205a0000000000000000000000000000000000000000000000000000000014806106c257506106c2826113ab565b6000546001600160a01b03163314610e405760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401611399565b6127106bffffffffffffffffffffffff821611156115625760405162461bcd60e51b815260206004820152602a60248201527f455243323938313a20726f79616c7479206665652077696c6c2065786365656460448201527f2073616c655072696365000000000000000000000000000000000000000000006064820152608401611399565b6001600160a01b0382166115b85760405162461bcd60e51b815260206004820152601960248201527f455243323938313a20696e76616c6964207265636569766572000000000000006044820152606401611399565b604080518082019091526001600160a01b039092168083526bffffffffffffffffffffffff9091166020909201829052600160a01b90910217600955565b60008160011115801561160a575060015482105b80156106c2575050600090815260056020526040902054600160e01b161590565b69c617113400112233445560005230601a5280603a52600080604460166daaeb6d7670e522a718067333cd4e5afa611667573d6000803e3d6000fd5b6000603a5250565b600061167a82610bf3565b9050336001600160a01b038216146116cc57611696813361063b565b6116cc576040517fcfb3b94200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600082815260076020526040808220805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b6001546000829003611773576040517fb562e8dd00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6001600160a01b03831660008181526006602090815260408083208054680100000000000000018802019055848352600590915281206001851460e11b4260a01b178317905582840190839083907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8180a4600183015b81811461182257808360007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef600080a46001016117ea565b508160000361185d576040517f2e07630000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60015550505050565b600061187182611bb7565b9050836001600160a01b0316816001600160a01b0316146118be576040517fa114810000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600082815260076020526040902080546118ea8187335b6001600160a01b039081169116811491141790565b611915576118f8863361063b565b61191557604051632ce44b5f60e11b815260040160405180910390fd5b6001600160a01b038516611955576040517fea553b3400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b801561196057600082555b6001600160a01b038681166000908152600660205260408082208054600019019055918716808252919020805460010190554260a01b17600160e11b17600085815260056020526040812091909155600160e11b841690036119f2576001840160008181526005602052604081205490036119f05760015481146119f05760008181526005602052604090208490555b505b83856001600160a01b0316876001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a46108b0565b6108158383836040518060200160405280600081525061119d565b6000611a5e83611bb7565b905080600080611a7c86600090815260076020526040902080549091565b915091508415611abc57611a918184336118d5565b611abc57611a9f833361063b565b611abc57604051632ce44b5f60e11b815260040160405180910390fd5b8015611ac757600082555b6001600160a01b038316600081815260066020526040902080546fffffffffffffffffffffffffffffffff0190554260a01b177c030000000000000000000000000000000000000000000000000000000017600087815260056020526040812091909155600160e11b85169003611b6e57600186016000818152600560205260408120549003611b6c576001548114611b6c5760008181526005602052604090208590555b505b60405186906000906001600160a01b038616907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a4505060028054600101905550505050565b60008180600111611c0d57600154811015611c0d5760008181526005602052604081205490600160e01b82169003611c0b575b8060000361112c575060001901600081815260056020526040902054611bea565b505b6040517fdf2d9b4200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6040805160808101825260008082526020820181905291810182905260608101919091526000828152600560205260409020546106c290604080516080810182526001600160a01b038316815260a083901c67ffffffffffffffff166020820152600160e01b831615159181019190915260e89190911c606082015290565b3360008181526008602090815260408083206001600160a01b03871680855290835292819020805460ff191686151590811790915590519081529192917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a35050565b611d9284848461090f565b6001600160a01b0383163b1561095f57611dae84848484611e96565b61095f576040516368d2bf6b60e11b815260040160405180910390fd5b6040805160808101825260008082526020820181905291810182905260608101919091526106c2611dfb83611bb7565b604080516080810182526001600160a01b038316815260a083901c67ffffffffffffffff166020820152600160e01b831615159181019190915260e89190911c606082015290565b6060600c80546106ed9061258a565b606060a06040510180604052602081039150506000815280825b600183039250600a81066030018353600a900480611e6c5750819003601f19909101908152919050565b604051630a85bd0160e11b81526000906001600160a01b0385169063150b7a0290611ecb90339089908890889060040161278a565b6020604051808303816000875af1925050508015611f06575060408051601f3d908101601f19168201909252611f03918101906127c6565b60015b611f64573d808015611f34576040519150601f19603f3d011682016040523d82523d6000602084013e611f39565b606091505b508051600003611f5c576040516368d2bf6b60e11b815260040160405180910390fd5b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050949350505050565b6001600160e01b03198116811461090c57600080fd5b600060208284031215611fa957600080fd5b813561112c81611f81565b80356001600160a01b0381168114611fcb57600080fd5b919050565b60008060408385031215611fe357600080fd5b611fec83611fb4565b915060208301356bffffffffffffffffffffffff8116811461200d57600080fd5b809150509250929050565b60005b8381101561203357818101518382015260200161201b565b50506000910152565b60008151808452612054816020860160208601612018565b601f01601f19169290920160200192915050565b60208152600061112c602083018461203c565b60006020828403121561208d57600080fd5b5035919050565b600080604083850312156120a757600080fd5b6120b083611fb4565b946020939093013593505050565b60008083601f8401126120d057600080fd5b50813567ffffffffffffffff8111156120e857600080fd5b6020830191508360208260051b8501011115610a1b57600080fd5b6000806000806040858703121561211957600080fd5b843567ffffffffffffffff8082111561213157600080fd5b61213d888389016120be565b9096509450602087013591508082111561215657600080fd5b50612163878288016120be565b95989497509550505050565b60006020828403121561218157600080fd5b813561ffff8116811461112c57600080fd5b6000806000606084860312156121a857600080fd5b6121b184611fb4565b92506121bf60208501611fb4565b9150604084013590509250925092565b600080604083850312156121e257600080fd5b50508035926020909101359150565b6000806020838503121561220457600080fd5b823567ffffffffffffffff8082111561221c57600080fd5b818501915085601f83011261223057600080fd5b81358181111561223f57600080fd5b86602082850101111561225157600080fd5b60209290920196919550909350505050565b6000806020838503121561227657600080fd5b823567ffffffffffffffff81111561228d57600080fd5b612299858286016120be565b90969095509350505050565b6020808252825182820181905260009190848201906040850190845b81811015610f565761230f8385516001600160a01b03815116825267ffffffffffffffff602082015116602083015260408101511515604083015262ffffff60608201511660608301525050565b92840192608092909201916001016122c1565b60006020828403121561233457600080fd5b813560ff8116811461112c57600080fd5b60006020828403121561235757600080fd5b61112c82611fb4565b6020808252825182820181905260009190848201906040850190845b81811015610f565783518352928401929184019160010161237c565b6000806000606084860312156123ad57600080fd5b6123b684611fb4565b95602085013595506040909401359392505050565b80358015158114611fcb57600080fd5b600080604083850312156123ee57600080fd5b6123f783611fb4565b9150612405602084016123cb565b90509250929050565b60006020828403121561242057600080fd5b61112c826123cb565b634e487b7160e01b600052604160045260246000fd5b6000806000806080858703121561245557600080fd5b61245e85611fb4565b935061246c60208601611fb4565b925060408501359150606085013567ffffffffffffffff8082111561249057600080fd5b818701915087601f8301126124a457600080fd5b8135818111156124b6576124b6612429565b604051601f8201601f19908116603f011681019083821181831017156124de576124de612429565b816040528281528a60208487010111156124f757600080fd5b82602086016020830137600060208483010152809550505050505092959194509250565b81516001600160a01b0316815260208083015167ffffffffffffffff169082015260408083015115159082015260608083015162ffffff1690820152608081016106c2565b6000806040838503121561257357600080fd5b61257c83611fb4565b915061240560208401611fb4565b600181811c9082168061259e57607f821691505b6020821081036125be57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b808201808211156106c2576106c26125da565b80820281158282048414176106c2576106c26125da565b60008261263757634e487b7160e01b600052601260045260246000fd5b500490565b601f82111561081557600081815260208120601f850160051c810160208610156126635750805b601f850160051c820191505b818110156108b05782815560010161266f565b67ffffffffffffffff83111561269a5761269a612429565b6126ae836126a8835461258a565b8361263c565b6000601f8411600181146126e257600085156126ca5750838201355b600019600387901b1c1916600186901b1783556111ee565b600083815260209020601f19861690835b8281101561271357868501358255602094850194600190920191016126f3565b50868210156127305760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b60ff82811682821603908111156106c2576106c26125da565b6000835161276d818460208801612018565b835190830190612781818360208801612018565b01949350505050565b60006001600160a01b038087168352808616602084015250836040830152608060608301526127bc608083018461203c565b9695505050505050565b6000602082840312156127d857600080fd5b815161112c81611f8156fea264697066735822122072ed6fa9116c152169ba910db53e771e010e6a59647a5e843b9e6bd41ee795c964736f6c63430008130033