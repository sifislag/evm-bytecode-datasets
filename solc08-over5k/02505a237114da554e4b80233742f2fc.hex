6080604052600436106101395760003560e01c8063813d31c9116100ab578063ae04d45d1161006f578063ae04d45d14610438578063b1d995dd14610458578063bd51f42e14610483578063d1dc83c2146104b9578063d60b347f146104ce578063fe2db7d014610507576101a0565b8063813d31c9146103825780638da5cb5b146103a25780639a8a0592146103c05780639f0a22a6146103e3578063aa4efa5b146103f8576101a0565b80634f64ca19116100fd5780634f64ca191461029957806365bb3ea7146102b957806366798c2c146102d95780636b83252a146103135780637cf5744f1461034d5780638129fc1c1461036d576101a0565b80630d668087146101d6578063396f7b23146101fa5780633a5527571461022c5780633fe3da361461024e5780633ff0320714610282576101a0565b366101a05760405162461bcd60e51b815260206004820152602c60248201527f746865205a6b42726964676520636f6e747261637420646f6573206e6f74206160448201526b63636570742061737365747360a01b60648201526084015b60405180910390fd5b60405162461bcd60e51b815260206004820152600b60248201526a1d5b9cdd5c1c1bdc9d195960aa1b6044820152606401610197565b3480156101e257600080fd5b506004545b6040519081526020015b60405180910390f35b34801561020657600080fd5b506002546001600160a01b03165b6040516001600160a01b0390911681526020016101f1565b34801561023857600080fd5b5061024c610247366004611a4d565b610538565b005b34801561025a57600080fd5b506101e77fb8abfd5c33667c7440a4fc1153ae39a24833dbe44f7eb19cbe5cd5f2583e494081565b34801561028e57600080fd5b506101e76201518081565b3480156102a557600080fd5b5061024c6102b4366004611b3d565b610645565b3480156102c557600080fd5b5061024c6102d4366004611b9f565b610b3b565b3480156102e557600080fd5b506102146102f4366004611bcb565b61ffff166000908152600a60205260409020546001600160a01b031690565b34801561031f57600080fd5b5061021461032e366004611bcb565b61ffff166000908152600960205260409020546001600160a01b031690565b34801561035957600080fd5b5061024c610368366004611be8565b610b8c565b34801561037957600080fd5b5061024c610bf5565b34801561038e57600080fd5b5061024c61039d366004611be8565b610cba565b3480156103ae57600080fd5b506001546001600160a01b0316610214565b3480156103cc57600080fd5b5060005460405161ffff90911681526020016101f1565b3480156103ef57600080fd5b506003546101e7565b34801561040457600080fd5b50610428610413366004611c21565b60009081526008602052604090205460ff1690565b60405190151581526020016101f1565b34801561044457600080fd5b5061024c610453366004611c21565b610d23565b61046b610466366004611c3a565b610db8565b6040516001600160401b0390911681526020016101f1565b34801561048f57600080fd5b5061046b61049e366004611c21565b6000908152600560205260409020546001600160401b031690565b3480156104c557600080fd5b5061024c610e87565b3480156104da57600080fd5b506104286104e9366004611a4d565b6001600160a01b031660009081526007602052604090205460ff1690565b34801561051357600080fd5b506101e7610522366004611bcb565b61ffff1660009081526006602052604090205490565b3361054b6001546001600160a01b031690565b6001600160a01b0316146105715760405162461bcd60e51b815260040161019790611c9b565b6001600160a01b0381166105c75760405162461bcd60e51b815260206004820152601b60248201527f436865636b2070656e64696e67496d706c656d656e746174696f6e00000000006044820152606401610197565b60006105db6002546001600160a01b031690565b90506105e6826110bb565b6106016105f260045490565b6105fc9042611ce6565b600355565b816001600160a01b0316816001600160a01b03167fe945ccee5d701fc83f9b8aa8ca94ea4219ec1fcbd4f4cab4f0ea57c5c3e1d81560405160405180910390a35050565b61ffff8416600090815260096020908152604080832054600a909252909120546001600160a01b039182169116816106b85760405162461bcd60e51b8152602060048201526016602482015275135c1d15995c9a599a595c881a5cc81b9bdd081cd95d60521b6044820152606401610197565b6001600160a01b03811661070e5760405162461bcd60e51b815260206004820152601860248201527f426c6f636b2055706461746572206973206e6f742073657400000000000000006044820152606401610197565b60405163057d916d60e11b81526000906001600160a01b03841690630afb22da9061073d908790600401611d5a565b600060405180830381865afa15801561075a573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526107829190810190611db2565b905080602001516001146107d85760405162461bcd60e51b815260206004820181905260248201527f536f7572636520436861696e205472616e73616374696f6e204661696c7572656044820152606401610197565b8051604051636e1ac47560e11b81526001600160a01b0384169163dc3588ea9161080f918a91600401918252602082015260400190565b602060405180830381865afa15801561082c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108509190611e4a565b61089c5760405162461bcd60e51b815260206004820152601760248201527f426c6f636b20486561646572206973206e6f74207365740000000000000000006044820152606401610197565b60006108ac8260400151876110dd565b90506108c88861ffff1660009081526006602052604090205490565b81608001511461091a5760405162461bcd60e51b815260206004820152601760248201527f496e76616c696420736f75726365205a4b4272696467650000000000000000006044820152606401610197565b600054815161ffff9081169116146109745760405162461bcd60e51b815260206004820152601960248201527f496e76616c69642064657374696e6174696f6e20636861696e000000000000006044820152606401610197565b600088826060015183602001516040516020016109b39392919061ffff93909316835260208301919091526001600160401b0316604082015260600190565b6040516020818303038152906040528051906020012090506109e48160009081526008602052604090205460ff1690565b15610a315760405162461bcd60e51b815260206004820152601960248201527f4d65737361676520616c72656164792065786563757465642e000000000000006044820152606401610197565b610a50816000908152600860205260409020805460ff19166001179055565b6000610a5f8360600151611339565b905082604001516001600160a01b0316632de9952a8b8386602001518760a001516040518563ffffffff1660e01b8152600401610a9f9493929190611e6c565b600060405180830381600087803b158015610ab957600080fd5b505af1158015610acd573d6000803e3d6000fd5b5050505082602001516001600160401b03168a61ffff16826001600160a01b03167f4a008ac830958ba6fe8a6e667e2ab53a530eb6cdf93e55b27fc42d7a54cf25b786604001518760a00151604051610b27929190611eb3565b60405180910390a450505050505050505050565b33610b4e6001546001600160a01b031690565b6001600160a01b031614610b745760405162461bcd60e51b815260040161019790611c9b565b61ffff91909116600090815260066020526040902055565b33610b9f6001546001600160a01b031690565b6001600160a01b031614610bc55760405162461bcd60e51b815260040161019790611c9b565b61ffff8216600090815260096020526040902080546001600160a01b0319166001600160a01b0383161790555050565b6000610c287f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b9050610c4c816001600160a01b031660009081526007602052604090205460ff1690565b15610c8f5760405162461bcd60e51b8152602060048201526013602482015272185b1c9958591e481a5b9a5d1a585b1a5e9959606a1b6044820152606401610197565b610cb7816001600160a01b03166000908152600760205260409020805460ff19166001179055565b50565b33610ccd6001546001600160a01b031690565b6001600160a01b031614610cf35760405162461bcd60e51b815260040161019790611c9b565b61ffff82166000908152600a6020526040902080546001600160a01b0319166001600160a01b0383161790555050565b33610d366001546001600160a01b031690565b6001600160a01b031614610d5c5760405162461bcd60e51b815260040161019790611c9b565b62015180811015610daf5760405162461bcd60e51b815260206004820152601b60248201527f496e636f7272656374206c6f636b54696d652073657474696e677300000000006044820152606401610197565b610cb781600455565b6000805461ffff1661ffff168461ffff1603610e165760405162461bcd60e51b815260206004820152601960248201527f43616e6e6f742073656e6420746f2073616d6520636861696e000000000000006044820152606401610197565b610e2c610e2660005461ffff1690565b3361138d565b9050806001600160401b03168461ffff16336001600160a01b03167fb8abfd5c33667c7440a4fc1153ae39a24833dbe44f7eb19cbe5cd5f2583e49408686604051610e78929190611eb3565b60405180910390a49392505050565b33610e9a6001546001600160a01b031690565b6001600160a01b031614610ec05760405162461bcd60e51b815260040161019790611c9b565b6000610ed46002546001600160a01b031690565b6001600160a01b031603610f2a5760405162461bcd60e51b815260206004820152601b60248201527f436865636b2070656e64696e67496d706c656d656e746174696f6e00000000006044820152606401610197565b600354421015610f6e5760405162461bcd60e51b815260206004820152600f60248201526e29ba34b636103637b1b5b2b21034b760891b6044820152606401610197565b6000610fa17f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b90506000610fb76002546001600160a01b031690565b9050610fc360006110bb565b610fcc81611432565b60408051600481526024810182526020810180516001600160e01b031663204a7f0760e21b179052905160009182916001600160a01b0385169161100f91611ed7565b600060405180830381855af49150503d806000811461104a576040519150601f19603f3d011682016040523d82523d6000602084013e61104f565b606091505b50915091508181906110745760405162461bcd60e51b81526004016101979190611d5a565b50826001600160a01b0316846001600160a01b03167f2e4cc16c100f0b55e2df82ab0b1a7e294aa9cbd01b48fbaf622683fbc0507a4960405160405180910390a350505050565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b6040805160c0810182526000808252602080830182905282840182905260608084018390526080840183905260a084015283518085018552828152810182905283518085019094528551845285810190840152909161114090611472565b611472565b905082156111aa576111a761113b61117a8361115d876002611ce6565b8151811061116d5761116d611ef3565b6020026020010151611587565b60408051808201825260008082526020918201528151808301909252825182529182019181019190915290565b90505b60006111c861113b61117a8460018151811061116d5761116d611ef3565b905060006111ef826000815181106111e2576111e2611ef3565b60200260200101516115fe565b8060200190518101906112029190611f09565b90507f475402a3cc99838bbf5b03eeac51c65db7cc241bb0814e6341a32a0da7c1b6c081016113305761124e8360008151811061124157611241611ef3565b602002602001015161167b565b6080850152815161126c90839060019081106111e2576111e2611ef3565b80602001905181019061127f9190611f09565b6060850152815161129d90839060029081106111e2576111e2611ef3565b8060200190518101906112b09190611f22565b61ffff16845281516112cf90839060039081106111e2576111e2611ef3565b8060200190518101906112e29190611f3f565b6001600160401b03166020850152825161130990849060029081106111e2576111e2611ef3565b80602001905181019061131c9190611f68565b60a08601526001600160a01b031660408501525b50505092915050565b60006001600160a01b03198216156113895760405162461bcd60e51b8152602060048201526013602482015272696e76616c69642045564d206164647265737360681b6044820152606401610197565b5090565b6040805161ffff841660208201526001600160a01b0383169181019190915260009081906060016040516020818303038152906040528051906020012090506113eb816000908152600560205260409020546001600160401b031690565b915061142b816113fc846001611fb8565b600091825260056020526040909120805467ffffffffffffffff19166001600160401b03909216919091179055565b5092915050565b61143b8161168c565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b606061147d8261173a565b61148657600080fd5b600061149183611775565b90506000816001600160401b038111156114ad576114ad611a7a565b6040519080825280602002602001820160405280156114f257816020015b60408051808201909152600080825260208201528152602001906001900390816114cb5790505b509050600061150485602001516117fa565b85602001516115139190611ce6565b90506000805b8481101561157c5761152a8361187c565b915060405180604001604052808381526020018481525084828151811061155357611553611ef3565b60209081029190910101526115688284611ce6565b92508061157481611fe3565b915050611519565b509195945050505050565b6060600082600001516001600160401b038111156115a7576115a7611a7a565b6040519080825280601f01601f1916602001820160405280156115d1576020820181803683370190505b50905080516000036115e35792915050565b600081602001905061142b8460200151828660000151611920565b805160609061160c57600080fd5b600080611618846119a3565b915091506000816001600160401b0381111561163657611636611a7a565b6040519080825280601f01601f191660200182016040528015611660576020820181803683370190505b50905060208101611672848285611920565b50949350505050565b6000611686826119ea565b92915050565b6001600160a01b0381163b6116f95760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b6064820152608401610197565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b8051600090810361174d57506000919050565b6020820151805160001a9060c082101561176b575060009392505050565b5060019392505050565b8051600090810361178857506000919050565b60008061179884602001516117fa565b84602001516117a79190611ce6565b90506000846000015185602001516117bf9190611ce6565b90505b808210156117f1576117d38261187c565b6117dd9083611ce6565b9150826117e981611fe3565b9350506117c2565b50909392505050565b8051600090811a60808110156118135750600092915050565b60b881108061182e575060c0811080159061182e575060f881105b1561183c5750600192915050565b60c081101561187057611851600160b8611ffc565b61185e9060ff168261201f565b611869906001611ce6565b9392505050565b611851600160f8611ffc565b80516000908190811a6080811015611897576001915061142b565b60b88110156118bd576118ab60808261201f565b6118b6906001611ce6565b915061142b565b60c08110156118ea5760b78103600185019450806020036101000a8551046001820181019350505061142b565b60f88110156118fe576118ab60c08261201f565b60019390930151602084900360f7016101000a900490920160f5190192915050565b8060000361192d57505050565b602081106119655782518252611944602084611ce6565b9250611951602083611ce6565b915061195e60208261201f565b905061192d565b801561199e576000600161197a83602061201f565b6119869061010061211a565b611990919061201f565b845184518216911916178352505b505050565b60008060006119b584602001516117fa565b905060008185602001516119c99190611ce6565b905060008286600001516119dd919061201f565b9196919550909350505050565b8051600090158015906119ff57508151602110155b611a0857600080fd5b600080611a14846119a3565b815191935091506020821015611a305760208290036101000a90045b949350505050565b6001600160a01b0381168114610cb757600080fd5b600060208284031215611a5f57600080fd5b813561186981611a38565b61ffff81168114610cb757600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611ab857611ab8611a7a565b604052919050565b60006001600160401b03821115611ad957611ad9611a7a565b50601f01601f191660200190565b600082601f830112611af857600080fd5b8135611b0b611b0682611ac0565b611a90565b818152846020838601011115611b2057600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215611b5357600080fd5b8435611b5e81611a6a565b9350602085013592506040850135915060608501356001600160401b03811115611b8757600080fd5b611b9387828801611ae7565b91505092959194509250565b60008060408385031215611bb257600080fd5b8235611bbd81611a6a565b946020939093013593505050565b600060208284031215611bdd57600080fd5b813561186981611a6a565b60008060408385031215611bfb57600080fd5b8235611c0681611a6a565b91506020830135611c1681611a38565b809150509250929050565b600060208284031215611c3357600080fd5b5035919050565b600080600060608486031215611c4f57600080fd5b8335611c5a81611a6a565b92506020840135611c6a81611a38565b915060408401356001600160401b03811115611c8557600080fd5b611c9186828701611ae7565b9150509250925092565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b634e487b7160e01b600052601160045260246000fd5b60008219821115611cf957611cf9611cd0565b500190565b60005b83811015611d19578181015183820152602001611d01565b83811115611d28576000848401525b50505050565b60008151808452611d46816020860160208601611cfe565b601f01601f19169290920160200192915050565b6020815260006118696020830184611d2e565b600082601f830112611d7e57600080fd5b8151611d8c611b0682611ac0565b818152846020838601011115611da157600080fd5b611a30826020830160208701611cfe565b600060208284031215611dc457600080fd5b81516001600160401b0380821115611ddb57600080fd5b9083019060608286031215611def57600080fd5b604051606081018181108382111715611e0a57611e0a611a7a565b80604052508251815260208301516020820152604083015182811115611e2f57600080fd5b611e3b87828601611d6d565b60408301525095945050505050565b600060208284031215611e5c57600080fd5b8151801515811461186957600080fd5b61ffff851681526001600160a01b03841660208201526001600160401b0383166040820152608060608201819052600090611ea990830184611d2e565b9695505050505050565b6001600160a01b0383168152604060208201819052600090611a3090830184611d2e565b60008251611ee9818460208701611cfe565b9190910192915050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215611f1b57600080fd5b5051919050565b600060208284031215611f3457600080fd5b815161186981611a6a565b600060208284031215611f5157600080fd5b81516001600160401b038116811461186957600080fd5b60008060408385031215611f7b57600080fd5b8251611f8681611a38565b60208401519092506001600160401b03811115611fa257600080fd5b611fae85828601611d6d565b9150509250929050565b60006001600160401b03808316818516808303821115611fda57611fda611cd0565b01949350505050565b600060018201611ff557611ff5611cd0565b5060010190565b600060ff821660ff84168082101561201657612016611cd0565b90039392505050565b60008282101561203157612031611cd0565b500390565b600181815b8085111561207157816000190482111561205757612057611cd0565b8085161561206457918102915b93841c939080029061203b565b509250929050565b60008261208857506001611686565b8161209557506000611686565b81600181146120ab57600281146120b5576120d1565b6001915050611686565b60ff8411156120c6576120c6611cd0565b50506001821b611686565b5060208310610133831016604e8410600b84101617156120f4575081810a611686565b6120fe8383612036565b806000190482111561211257612112611cd0565b029392505050565b6000611869838361207956fea264697066735822122062a7d8d42d5502b71e793358201898b438a317c49d114a5693b1b52344a44da664736f6c634300080e0033