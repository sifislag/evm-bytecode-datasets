60806040526004361061020f5760003560e01c806375935d1111610118578063b88d4fde116100a0578063c87b56dd1161006f578063c87b56dd14610602578063d0520c2314610622578063d5abeb0114610679578063e985e9c5146106ad578063f2fde38b146106f657600080fd5b8063b88d4fde14610582578063beb08ab9146105a2578063bfa457bc146105c2578063c37f7381146105e257600080fd5b806391b7f5ed116100e757806391b7f5ed1461050457806395d89b4114610524578063a035b1fe14610539578063a0712d681461054f578063a22cb4651461056257600080fd5b806375935d1114610484578063853828b6146104b15780638a780447146104c65780638da5cb5b146104e657600080fd5b80632f745c591161019b578063547520fe1161016a578063547520fe146103f95780636352211e1461041957806370a0823114610439578063715018a6146104595780637501f7411461046e57600080fd5b80632f745c591461037957806330176e131461039957806342842e0e146103b95780634f6ccce7146103d957600080fd5b8063095ea7b3116101e2578063095ea7b3146102c557806318160ddd146102e55780631e6d487a1461030457806323b872dd1461031a5780632a55205a1461033a57600080fd5b806301ffc9a71461021457806304634d8d1461024957806306fdde031461026b578063081812fc1461028d575b600080fd5b34801561022057600080fd5b5061023461022f366004612057565b610716565b60405190151581526020015b60405180910390f35b34801561025557600080fd5b50610269610264366004612097565b610727565b005b34801561027757600080fd5b5061028061073d565b6040516102409190612132565b34801561029957600080fd5b506102ad6102a8366004612145565b6107cf565b6040516001600160a01b039091168152602001610240565b3480156102d157600080fd5b506102696102e036600461215e565b6107f6565b3480156102f157600080fd5b506008545b604051908152602001610240565b34801561031057600080fd5b506102f660125481565b34801561032657600080fd5b50610269610335366004612188565b610910565b34801561034657600080fd5b5061035a6103553660046121c4565b610941565b604080516001600160a01b039093168352602083019190915201610240565b34801561038557600080fd5b506102f661039436600461215e565b6109ed565b3480156103a557600080fd5b506102696103b4366004612272565b610a83565b3480156103c557600080fd5b506102696103d4366004612188565b610a97565b3480156103e557600080fd5b506102f66103f4366004612145565b610ab2565b34801561040557600080fd5b50610269610414366004612145565b610b45565b34801561042557600080fd5b506102ad610434366004612145565b610b52565b34801561044557600080fd5b506102f66104543660046122bb565b610bb2565b34801561046557600080fd5b50610269610c38565b34801561047a57600080fd5b506102f660105481565b34801561049057600080fd5b506104a461049f3660046122bb565b610c4c565b60405161024091906122d6565b3480156104bd57600080fd5b50610269610cee565b3480156104d257600080fd5b506102696104e13660046122bb565b610da0565b3480156104f257600080fd5b50600a546001600160a01b03166102ad565b34801561051057600080fd5b5061026961051f366004612145565b610dca565b34801561053057600080fd5b50610280610dd7565b34801561054557600080fd5b506102f660115481565b61026961055d366004612145565b610de6565b34801561056e57600080fd5b5061026961057d36600461231a565b610f49565b34801561058e57600080fd5b5061026961059d36600461234b565b610f54565b3480156105ae57600080fd5b50600f546102ad906001600160a01b031681565b3480156105ce57600080fd5b506102696105dd3660046123c7565b610f8c565b3480156105ee57600080fd5b506102696105fd366004612145565b611014565b34801561060e57600080fd5b5061028061061d366004612145565b611021565b34801561062e57600080fd5b506106376110d5565b6040516102409190600060a082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015292915050565b34801561068557600080fd5b506102f67f000000000000000000000000000000000000000000000000000000000000138881565b3480156106b957600080fd5b506102346106c83660046123f3565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b34801561070257600080fd5b506102696107113660046122bb565b611161565b6000610721826111d7565b92915050565b61072f6111fc565b6107398282611256565b5050565b60606000805461074c9061241d565b80601f01602080910402602001604051908101604052809291908181526020018280546107789061241d565b80156107c55780601f1061079a576101008083540402835291602001916107c5565b820191906000526020600020905b8154815290600101906020018083116107a857829003601f168201915b5050505050905090565b60006107da82611353565b506000908152600460205260409020546001600160a01b031690565b600061080182610b52565b9050806001600160a01b0316836001600160a01b0316036108735760405162461bcd60e51b815260206004820152602160248201527f4552433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b60648201526084015b60405180910390fd5b336001600160a01b038216148061088f575061088f81336106c8565b6109015760405162461bcd60e51b815260206004820152603e60248201527f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60448201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000606482015260840161086a565b61090b83836113b2565b505050565b61091a3382611420565b6109365760405162461bcd60e51b815260040161086a90612457565b61090b83838361149f565b6000828152600d602090815260408083208151808301909252546001600160a01b038116808352600160a01b9091046001600160601b03169282019290925282916109b6575060408051808201909152600c546001600160a01b0381168252600160a01b90046001600160601b031660208201525b6020810151600090612710906109d5906001600160601b0316876124bb565b6109df91906124f0565b915196919550909350505050565b60006109f883610bb2565b8210610a5a5760405162461bcd60e51b815260206004820152602b60248201527f455243373231456e756d657261626c653a206f776e657220696e646578206f7560448201526a74206f6620626f756e647360a81b606482015260840161086a565b506001600160a01b03919091166000908152600660209081526040808320938352929052205490565b610a8b6111fc565b600e6107398282612552565b61090b83838360405180602001604052806000815250610f54565b6000610abd60085490565b8210610b205760405162461bcd60e51b815260206004820152602c60248201527f455243373231456e756d657261626c653a20676c6f62616c20696e646578206f60448201526b7574206f6620626f756e647360a01b606482015260840161086a565b60088281548110610b3357610b33612612565b90600052602060002001549050919050565b610b4d6111fc565b601055565b6000818152600260205260408120546001600160a01b0316806107215760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b604482015260640161086a565b60006001600160a01b038216610c1c5760405162461bcd60e51b815260206004820152602960248201527f4552433732313a2061646472657373207a65726f206973206e6f7420612076616044820152683634b21037bbb732b960b91b606482015260840161086a565b506001600160a01b031660009081526003602052604090205490565b610c406111fc565b610c4a6000611646565b565b60606000610c5983610bb2565b905060008167ffffffffffffffff811115610c7657610c766121e6565b604051908082528060200260200182016040528015610c9f578160200160208202803683370190505b50905060005b82811015610ce657610cb785826109ed565b828281518110610cc957610cc9612612565b602090810291909101015280610cde81612628565b915050610ca5565b509392505050565b610cf66111fc565b6000610d0a600a546001600160a01b031690565b6001600160a01b03164760405160006040518083038185875af1925050503d8060008114610d54576040519150601f19603f3d011682016040523d82523d6000602084013e610d59565b606091505b5050905080610d9d5760405162461bcd60e51b815260206004820152601060248201526f2a3930b739b332b9103330b4b632b21760811b604482015260640161086a565b50565b610da86111fc565b600f80546001600160a01b0319166001600160a01b0392909216919091179055565b610dd26111fc565b601155565b60606001805461074c9061241d565b6002600b5403610e385760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640161086a565b6002600b55601254421015610e6057604051634c97d28b60e01b815260040160405180910390fd5b601054811115610e835760405163ec8e6a6360e01b815260040160405180910390fd5b600081601154610e9391906124bb565b90506000610ea060085490565b90507f0000000000000000000000000000000000000000000000000000000000001388610ecd8483612641565b1115610eec57604051633bd7ad7760e21b815260040160405180910390fd5b813414610f0c5760405163cd1c886760e01b815260040160405180910390fd5b60015b838111610f35576000610f20611698565b9050610f2c33826117ed565b50600101610f0f565b50610f3f34611807565b50506001600b5550565b61073933838361185c565b610f5e3383611420565b610f7a5760405162461bcd60e51b815260040161086a90612457565b610f868484848461192a565b50505050565b610f946111fc565b6000610f9f60085490565b90507f0000000000000000000000000000000000000000000000000000000000001388610fcc8483612641565b1115610feb57604051633bd7ad7760e21b815260040160405180910390fd5b60015b838111610f86576000610fff611698565b905061100b84826117ed565b50600101610fee565b61101c6111fc565b601255565b6000818152600260205260409020546060906001600160a01b03166110a05760405162461bcd60e51b815260206004820152602f60248201527f4552433732314d657461646174613a2055524920717565727920666f72206e6f60448201526e3732bc34b9ba32b73a103a37b5b2b760891b606482015260840161086a565b6000600e6110ad8461195d565b6040516020016110be929190612659565b60408051601f198184030181529190529392505050565b6111076040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b6040518060a00160405280601154815260200161112360085490565b81526020017f000000000000000000000000000000000000000000000000000000000000138881526020016010548152602001601254815250905090565b6111696111fc565b6001600160a01b0381166111ce5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161086a565b610d9d81611646565b60006001600160e01b0319821663152a902d60e11b1480610721575061072182611a5e565b600a546001600160a01b03163314610c4a5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161086a565b6127106001600160601b03821611156112c45760405162461bcd60e51b815260206004820152602a60248201527f455243323938313a20726f79616c7479206665652077696c6c206578636565646044820152692073616c65507269636560b01b606482015260840161086a565b6001600160a01b03821661131a5760405162461bcd60e51b815260206004820152601960248201527f455243323938313a20696e76616c696420726563656976657200000000000000604482015260640161086a565b604080518082019091526001600160a01b039092168083526001600160601b039091166020909201829052600160a01b90910217600c55565b6000818152600260205260409020546001600160a01b0316610d9d5760405162461bcd60e51b8152602060048201526018602482015277115490cdcc8c4e881a5b9d985b1a59081d1bdad95b88125160421b604482015260640161086a565b600081815260046020526040902080546001600160a01b0319166001600160a01b03841690811790915581906113e782610b52565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061142c83610b52565b9050806001600160a01b0316846001600160a01b0316148061147357506001600160a01b0380821660009081526005602090815260408083209388168352929052205460ff165b806114975750836001600160a01b031661148c846107cf565b6001600160a01b0316145b949350505050565b826001600160a01b03166114b282610b52565b6001600160a01b0316146115165760405162461bcd60e51b815260206004820152602560248201527f4552433732313a207472616e736665722066726f6d20696e636f72726563742060448201526437bbb732b960d91b606482015260840161086a565b6001600160a01b0382166115785760405162461bcd60e51b8152602060048201526024808201527f4552433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b606482015260840161086a565b611583838383611a83565b61158e6000826113b2565b6001600160a01b03831660009081526003602052604081208054600192906115b79084906126f0565b90915550506001600160a01b03821660009081526003602052604081208054600192906115e5908490612641565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b600a80546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000806116a460085490565b6116ce907f00000000000000000000000000000000000000000000000000000000000013886126f0565b6040516bffffffffffffffffffffffff1933606090811b8216602084015241901b166034820152446048820152456068820152426088820152909150600090829060a8016040516020818303038152906040528051906020012060001c6117359190612707565b600081815260136020526040812054919250908103611755575080611766565b506000818152601360205260409020545b601360006117756001866126f0565b8152602001908152602001600020546000036117aa576117966001846126f0565b6000838152601360205260409020556117da565b601360006117b96001866126f0565b81526020808201929092526040908101600090812054858252601390935220555b6117e5816001612641565b935050505090565b610739828260405180602001604052806000815250611b3b565b600060646118357f0000000000000000000000000000000000000000000000000000000000000005846124bb565b61183f91906124f0565b905061185361184e82846126f0565b611b6e565b61073981611bd9565b816001600160a01b0316836001600160a01b0316036118bd5760405162461bcd60e51b815260206004820152601960248201527f4552433732313a20617070726f766520746f2063616c6c657200000000000000604482015260640161086a565b6001600160a01b03838116600081815260056020908152604080832094871680845294825291829020805460ff191686151590811790915591519182527f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31910160405180910390a3505050565b61193584848461149f565b61194184848484611c12565b610f865760405162461bcd60e51b815260040161086a9061271b565b6060816000036119845750506040805180820190915260018152600360fc1b602082015290565b8160005b81156119ae578061199881612628565b91506119a79050600a836124f0565b9150611988565b60008167ffffffffffffffff8111156119c9576119c96121e6565b6040519080825280601f01601f1916602001820160405280156119f3576020820181803683370190505b5090505b841561149757611a086001836126f0565b9150611a15600a86612707565b611a20906030612641565b60f81b818381518110611a3557611a35612612565b60200101906001600160f81b031916908160001a905350611a57600a866124f0565b94506119f7565b60006001600160e01b0319821663780e9d6360e01b1480610721575061072182611d13565b6001600160a01b038316611ade57611ad981600880546000838152600960205260408120829055600182018355919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30155565b611b01565b816001600160a01b0316836001600160a01b031614611b0157611b018382611d63565b6001600160a01b038216611b185761090b81611e00565b826001600160a01b0316826001600160a01b03161461090b5761090b8282611eaf565b611b458383611ef3565b611b526000848484611c12565b61090b5760405162461bcd60e51b815260040161086a9061271b565b600f546040516000916001600160a01b03169061c3509084905b600060405180830381858888f193505050503d8060008114611bc6576040519150601f19603f3d011682016040523d82523d6000602084013e611bcb565b606091505b505090508061073957600080fd5b60007f00000000000000000000000093eef15e5d6f1a0c238f93a274e1b9514f260c4c6001600160a01b03168261c35090604051611b88565b60006001600160a01b0384163b15611d0857604051630a85bd0160e11b81526001600160a01b0385169063150b7a0290611c5690339089908890889060040161276d565b6020604051808303816000875af1925050508015611c91575060408051601f3d908101601f19168201909252611c8e918101906127aa565b60015b611cee573d808015611cbf576040519150601f19603f3d011682016040523d82523d6000602084013e611cc4565b606091505b508051600003611ce65760405162461bcd60e51b815260040161086a9061271b565b805181602001fd5b6001600160e01b031916630a85bd0160e11b149050611497565b506001949350505050565b60006001600160e01b031982166380ac58cd60e01b1480611d4457506001600160e01b03198216635b5e139f60e01b145b8061072157506301ffc9a760e01b6001600160e01b0319831614610721565b60006001611d7084610bb2565b611d7a91906126f0565b600083815260076020526040902054909150808214611dcd576001600160a01b03841660009081526006602090815260408083208584528252808320548484528184208190558352600790915290208190555b5060009182526007602090815260408084208490556001600160a01b039094168352600681528383209183525290812055565b600854600090611e12906001906126f0565b60008381526009602052604081205460088054939450909284908110611e3a57611e3a612612565b906000526020600020015490508060088381548110611e5b57611e5b612612565b6000918252602080832090910192909255828152600990915260408082208490558582528120556008805480611e9357611e936127c7565b6001900381819060005260206000200160009055905550505050565b6000611eba83610bb2565b6001600160a01b039093166000908152600660209081526040808320868452825280832085905593825260079052919091209190915550565b6001600160a01b038216611f495760405162461bcd60e51b815260206004820181905260248201527f4552433732313a206d696e7420746f20746865207a65726f2061646472657373604482015260640161086a565b6000818152600260205260409020546001600160a01b031615611fae5760405162461bcd60e51b815260206004820152601c60248201527f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000604482015260640161086a565b611fba60008383611a83565b6001600160a01b0382166000908152600360205260408120805460019290611fe3908490612641565b909155505060008181526002602052604080822080546001600160a01b0319166001600160a01b03861690811790915590518392907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6001600160e01b031981168114610d9d57600080fd5b60006020828403121561206957600080fd5b813561207481612041565b9392505050565b80356001600160a01b038116811461209257600080fd5b919050565b600080604083850312156120aa57600080fd5b6120b38361207b565b915060208301356001600160601b03811681146120cf57600080fd5b809150509250929050565b60005b838110156120f55781810151838201526020016120dd565b83811115610f865750506000910152565b6000815180845261211e8160208601602086016120da565b601f01601f19169290920160200192915050565b6020815260006120746020830184612106565b60006020828403121561215757600080fd5b5035919050565b6000806040838503121561217157600080fd5b61217a8361207b565b946020939093013593505050565b60008060006060848603121561219d57600080fd5b6121a68461207b565b92506121b46020850161207b565b9150604084013590509250925092565b600080604083850312156121d757600080fd5b50508035926020909101359150565b634e487b7160e01b600052604160045260246000fd5b600067ffffffffffffffff80841115612217576122176121e6565b604051601f8501601f19908116603f0116810190828211818310171561223f5761223f6121e6565b8160405280935085815286868601111561225857600080fd5b858560208301376000602087830101525050509392505050565b60006020828403121561228457600080fd5b813567ffffffffffffffff81111561229b57600080fd5b8201601f810184136122ac57600080fd5b611497848235602084016121fc565b6000602082840312156122cd57600080fd5b6120748261207b565b6020808252825182820181905260009190848201906040850190845b8181101561230e578351835292840192918401916001016122f2565b50909695505050505050565b6000806040838503121561232d57600080fd5b6123368361207b565b9150602083013580151581146120cf57600080fd5b6000806000806080858703121561236157600080fd5b61236a8561207b565b93506123786020860161207b565b925060408501359150606085013567ffffffffffffffff81111561239b57600080fd5b8501601f810187136123ac57600080fd5b6123bb878235602084016121fc565b91505092959194509250565b600080604083850312156123da57600080fd5b823591506123ea6020840161207b565b90509250929050565b6000806040838503121561240657600080fd5b61240f8361207b565b91506123ea6020840161207b565b600181811c9082168061243157607f821691505b60208210810361245157634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252602e908201527f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560408201526d1c881b9bdc88185c1c1c9bdd995960921b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b60008160001904831182151516156124d5576124d56124a5565b500290565b634e487b7160e01b600052601260045260246000fd5b6000826124ff576124ff6124da565b500490565b601f82111561090b57600081815260208120601f850160051c8101602086101561252b5750805b601f850160051c820191505b8181101561254a57828155600101612537565b505050505050565b815167ffffffffffffffff81111561256c5761256c6121e6565b6125808161257a845461241d565b84612504565b602080601f8311600181146125b5576000841561259d5750858301515b600019600386901b1c1916600185901b17855561254a565b600085815260208120601f198616915b828110156125e4578886015182559484019460019091019084016125c5565b50858210156126025787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b60006001820161263a5761263a6124a5565b5060010190565b60008219821115612654576126546124a5565b500190565b60008084546126678161241d565b6001828116801561267f5760018114612694576126c3565b60ff19841687528215158302870194506126c3565b8860005260208060002060005b858110156126ba5781548a8201529084019082016126a1565b50505082870194505b5050505083516126d78183602088016120da565b64173539b7b760d91b9101908152600501949350505050565b600082821015612702576127026124a5565b500390565b600082612716576127166124da565b500690565b60208082526032908201527f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906127a090830184612106565b9695505050505050565b6000602082840312156127bc57600080fd5b815161207481612041565b634e487b7160e01b600052603160045260246000fdfea264697066735822122093559d7c931589385ecbd81dda0f9029794bfeee86f1ce43c5264b958a0e287864736f6c634300080f0033