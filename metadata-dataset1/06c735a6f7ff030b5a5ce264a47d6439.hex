608060405234801561001057600080fd5b506004361061018e5760003560e01c80638ac00021116100de578063bc197c8111610097578063e48567e511610071578063e48567e514610417578063f23a6e6114610450578063f2fde38b1461046f578063f301af421461048257600080fd5b8063bc197c81146103d2578063cb15d43f146103f1578063cc2fe72d1461040457600080fd5b80638ac00021146103395780638da5cb5b1461036b57806393d81d5814610386578063a1db978214610399578063abe496ce146103ac578063ae0b51df146103bf57600080fd5b80631fe543e31161014b5780633f544937116101255780633f544937146103035780636d0c4e2914610316578063715018a61461031e57806386850e931461032657600080fd5b80631fe543e3146102ca57806321d15067146102dd5780633458b303146102f057600080fd5b806301ffc9a7146101935780630e27e3df146101bb5780630f72faec146101d0578063112940f9146101e3578063141961bc146101f6578063150b7a0214610293575b600080fd5b6101a66101a13660046116d0565b6104f9565b60405190151581526020015b60405180910390f35b6101ce6101c9366004611716565b610530565b005b6101a66101de366004611805565b6105b2565b6101ce6101f1366004611716565b6105c7565b610254610204366004611854565b60026020819052600091825260409091206001810154918101546004909101546001600160a01b0383169260ff600160a01b8204811693600160a81b8304821693600160b01b9093049091169186565b604080516001600160a01b03909716875294151560208701529215159385019390935215156060840152608083019190915260a082015260c0016101b2565b6102b16102a13660046118dc565b630a85bd0160e11b949350505050565b6040516001600160e01b031990911681526020016101b2565b6101ce6102d8366004611943565b610614565b6101ce6102eb366004611943565b6106a1565b6101ce6102fe366004611997565b610769565b6101ce6103113660046119df565b610940565b6101ce610b29565b6101ce610c67565b6101ce610334366004611854565b610c7b565b600b5461035390600160501b90046001600160401b031681565b6040516001600160401b0390911681526020016101b2565b6001546040516001600160a01b0390911681526020016101b2565b6101ce610394366004611716565b610d2d565b6101ce6103a7366004611a35565b610dc3565b6101ce6103ba366004611a5f565b610e64565b6101ce6103cd366004611805565b610f35565b6102b16103e0366004611a8f565b63bc197c8160e01b95945050505050565b6101a66103ff366004611b38565b6112d1565b6101ce610412366004611b78565b6112de565b610442610425366004611a35565b600460209081526000928352604080842090915290825290205481565b6040519081526020016101b2565b6102b161045e366004611b9a565b63f23a6e6160e01b95945050505050565b6101ce61047d366004611716565b611395565b6104c6610490366004611854565b6003602052600090815260409020805460018201546002909201546001600160a01b03918216929160ff82169161010090041684565b604080516001600160a01b03958616815260208101949094529115159183019190915290911660608201526080016101b2565b60006001600160e01b03198216630271189760e51b148061052a57506301ffc9a760e01b6001600160e01b03198316145b92915050565b61053861140e565b600654600b54604051639f87fad760e01b81526001600160a01b0390921691639f87fad79161057d91600160501b9091046001600160401b0316908590600401611bfe565b600060405180830381600087803b15801561059757600080fd5b505af11580156105ab573d6000803e3d6000fd5b5050505050565b60006105bf848484611468565b949350505050565b6105cf61140e565b600654600b54604051631cd0704360e21b81526001600160a01b0390921691637341c10c9161057d91600160501b9091046001600160401b0316908590600401611bfe565b336001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e6990916146106935760405163073e64fd60e21b81523360048201526001600160a01b037f000000000000000000000000271682deb8c4e0901d1a1550ad2e64d568e699091660248201526044015b60405180910390fd5b61069d82826114d5565b5050565b600260005414156106c45760405162461bcd60e51b815260040161068a90611c20565b6002600081815583815260209190915260409020600190810154600160b01b900460ff161515146107075760405162461bcd60e51b815260040161068a90611c57565b6000828152600260205260409020600101546001600160a01b031633146107405760405162461bcd60e51b815260040161068a90611c84565b6000828152600260209081526040909120825161075f92840190611670565b5050600160005550565b6002600054141561078c5760405162461bcd60e51b815260040161068a90611c20565b60026000908155848152600360205260409020546001600160a01b0316156107ed5760405162461bcd60e51b815260206004820152601460248201527311da5d995b881251081a5cc81bd8d8dd5c1a595960621b604482015260640161068a565b6001600160a01b0383166000908152600460209081526040808320858452909152902054156108745760405162461bcd60e51b815260206004820152602d60248201527f476976656e206173736574206164647265737320616e6420746f6b656e20494460448201526c08185c99481bd8d8dd5c1a5959609a1b606482015260840161068a565b600084815260036020908152604080832080546001600160a01b0319166001600160a01b038816908117825560018201879055600290910180546001600160a81b031916861515610100600160a81b03198116919091176101003390810291909117909255828652600485528386208887528552948390208990558251908152928301528101849052606081019190915284907f9d61d891314f7bddb2efeb23db1a38e2703d20f955f6037779c0bd0905c070e4906080015b60405180910390a2505060016000555050565b600260005414156109635760405162461bcd60e51b815260040161068a90611c20565b600260008181558581526020919091526040902060010154600160b01b900460ff16156109c95760405162461bcd60e51b815260206004820152601460248201527311da5d995b881251081a5cc81bd8d8dd5c1a595960621b604482015260640161068a565b6000848152600260205260409020600101805484158015600160a01b0260ff60a01b19600162ff000160a01b03199093163317600160b01b179290921691909117909155610ae357600654600a54600b546040516305d3b1d360e41b81526004810192909252600160501b81046001600160401b03166024830152640100000000810461ffff16604483015263ffffffff808216606484015266010000000000009091041660848201526000916001600160a01b031690635d3b1d309060a4016020604051808303816000875af1158015610aa8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610acc9190611caf565b600090815260056020526040902085905550610af9565b6000848152600260208190526040909120018290555b837f12bf1f27c6ed3c1d2a95a5d3a40bda4ef589bd3bb0ed21d671a5050afccd1bee8260405161092d9190611cc8565b610b3161140e565b604080516001808252818301909252600091602080830190803683370190505090503081600081518110610b6757610b67611d0c565b6001600160a01b039283166020918202929092018101919091526006546040805163288688f960e21b81529051919093169263a21a23e492600480830193919282900301816000875af1158015610bc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610be69190611d22565b600b805467ffffffffffffffff60501b1916600160501b6001600160401b039384168102919091179182905560065484516001600160a01b0390911693637341c10c9392909204909116908490600090610c4257610c42611d0c565b60200260200101516040518363ffffffff1660e01b815260040161057d929190611bfe565b610c6f61140e565b610c796000611525565b565b610c8361140e565b600754600654600b5460408051600160501b9092046001600160401b031660208301526001600160a01b0393841693634000aea09316918591016040516020818303038152906040526040518463ffffffff1660e01b8152600401610cea93929190611d4b565b6020604051808303816000875af1158015610d09573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069d9190611db7565b610d3561140e565b600654600b54604051630d7ae1d360e41b81526001600160a01b039092169163d7ae1d3091610d7a91600160501b9091046001600160401b0316908590600401611bfe565b600060405180830381600087803b158015610d9457600080fd5b505af1158015610da8573d6000803e3d6000fd5b5050600b805467ffffffffffffffff60501b19169055505050565b60026000541415610de65760405162461bcd60e51b815260040161068a90611c20565b6002600055610df361140e565b60405163a9059cbb60e01b8152336004820152602481018290526001600160a01b0383169063a9059cbb906044016020604051808303816000875af1158015610e40573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061075f9190611db7565b60026000541415610e875760405162461bcd60e51b815260040161068a90611c20565b6002600081815583815260209190915260409020600190810154600160b01b900460ff16151514610eca5760405162461bcd60e51b815260040161068a90611c57565b6000828152600260205260409020600101546001600160a01b03163314610f035760405162461bcd60e51b815260040161068a90611c84565b600091825260026020526040822060019081018054921515600160a81b0260ff60a81b19909316929092179091559055565b60026000541415610f585760405162461bcd60e51b815260040161068a90611c20565b6002600081815584815260209190915260409020600190810154600160b01b900460ff16151514610fcb5760405162461bcd60e51b815260206004820152601960248201527f476976656e204576656e7420494420697320696e76616c696400000000000000604482015260640161068a565b600083815260026020526040902060010154600160a81b900460ff16156110295760405162461bcd60e51b8152602060048201526012602482015271151a1948195d995b9d081a5cc8195b99195960721b604482015260640161068a565b600083815260026020908152604080832033845260030190915290205460ff16156110965760405162461bcd60e51b815260206004820152601d60248201527f5468652063616c6c657220697320616c726561647920636c61696d6564000000604482015260640161068a565b6110a1838383611468565b151560011461110f5760405162461bcd60e51b815260206004820152603460248201527f5468652063616c6c6572206973206e6f7420656c696769626c6520746f20636c604482015273185a5b481d1a194819da5d995b881c995dd85c9960621b606482015260840161068a565b60008281526003602052604090206002015460ff16156111dc57600082815260036020526040808220805460028201546001928301548451637921219560e11b81526001600160a01b0361010090930483166004808301919091523360248301526044820192909252606481019490945260a0608485015260a4840152630307830360e41b60c4840152925192169263f242432a9260e48084019382900301818387803b1580156111bf57600080fd5b505af11580156111d3573d6000803e3d6000fd5b50505050611266565b60008281526003602052604090819020805460028201546001909201549251632142170760e11b81526001600160a01b0361010090930483166004820152336024820152604481019390935216906342842e0e90606401600060405180830381600087803b15801561124d57600080fd5b505af1158015611261573d6000803e3d6000fd5b505050505b6000838152600260209081526040808320338085526003909101835292819020805460ff1916600117905580519283529082018590527fd8138f8a3f377c5259ca548e70e4c2de94f129f5a11036a15b69513cba2b426a910160405180910390a15050600160005550565b60006105bf848484611577565b600260005414156113015760405162461bcd60e51b815260040161068a90611c20565b6002600081815583815260209190915260409020600190810154600160b01b900460ff161515146113445760405162461bcd60e51b815260040161068a90611c57565b6000828152600260205260409020600101546001600160a01b0316331461137d5760405162461bcd60e51b815260040161068a90611c84565b60009182526002602052604082206004015560019055565b61139d61140e565b6001600160a01b0381166114025760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840161068a565b61140b81611525565b50565b6001546001600160a01b03163314610c795760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161068a565b6040516bffffffffffffffffffffffff193360601b1660208201526034810183905260009081906054015b6040516020818303038152906040528051906020012090506114cc836002600088815260200190815260200160002060040154836115db565b95945050505050565b600082815260056020526040902054801561152057816000815181106114fd576114fd611d0c565b602002602001015160026000838152602001908152602001600020600201819055505b505050565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000838152600260205260408120600190810154600160b01b900460ff161515146115b45760405162461bcd60e51b815260040161068a90611c57565b6040516bffffffffffffffffffffffff19606085901b166020820152600090603401611493565b6000826115e885846115f1565b14949350505050565b600081815b8451811015611636576116228286838151811061161557611615611d0c565b602002602001015161163e565b91508061162e81611dd4565b9150506115f6565b509392505050565b600081831061165a576000828152602084905260409020611669565b60008381526020839052604090205b9392505050565b8280548282559060005260206000209081019282156116ab579160200282015b828111156116ab578251825591602001919060010190611690565b506116b79291506116bb565b5090565b5b808211156116b757600081556001016116bc565b6000602082840312156116e257600080fd5b81356001600160e01b03198116811461166957600080fd5b80356001600160a01b038116811461171157600080fd5b919050565b60006020828403121561172857600080fd5b611669826116fa565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561176f5761176f611731565b604052919050565b60006001600160401b0382111561179057611790611731565b5060051b60200190565b600082601f8301126117ab57600080fd5b813560206117c06117bb83611777565b611747565b82815260059290921b840181019181810190868411156117df57600080fd5b8286015b848110156117fa57803583529183019183016117e3565b509695505050505050565b60008060006060848603121561181a57600080fd5b833592506020840135915060408401356001600160401b0381111561183e57600080fd5b61184a8682870161179a565b9150509250925092565b60006020828403121561186657600080fd5b5035919050565b600082601f83011261187e57600080fd5b81356001600160401b0381111561189757611897611731565b6118aa601f8201601f1916602001611747565b8181528460208386010111156118bf57600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080608085870312156118f257600080fd5b6118fb856116fa565b9350611909602086016116fa565b92506040850135915060608501356001600160401b0381111561192b57600080fd5b6119378782880161186d565b91505092959194509250565b6000806040838503121561195657600080fd5b8235915060208301356001600160401b0381111561197357600080fd5b61197f8582860161179a565b9150509250929050565b801515811461140b57600080fd5b600080600080608085870312156119ad57600080fd5b843593506119bd602086016116fa565b92506040850135915060608501356119d481611989565b939692955090935050565b600080600080608085870312156119f557600080fd5b843593506020850135611a0781611989565b92506040850135915060608501356001600160401b03811115611a2957600080fd5b6119378782880161179a565b60008060408385031215611a4857600080fd5b611a51836116fa565b946020939093013593505050565b60008060408385031215611a7257600080fd5b823591506020830135611a8481611989565b809150509250929050565b600080600080600060a08688031215611aa757600080fd5b611ab0866116fa565b9450611abe602087016116fa565b935060408601356001600160401b0380821115611ada57600080fd5b611ae689838a0161179a565b94506060880135915080821115611afc57600080fd5b611b0889838a0161179a565b93506080880135915080821115611b1e57600080fd5b50611b2b8882890161186d565b9150509295509295909350565b600080600060608486031215611b4d57600080fd5b83359250611b5d602085016116fa565b915060408401356001600160401b0381111561183e57600080fd5b60008060408385031215611b8b57600080fd5b50508035926020909101359150565b600080600080600060a08688031215611bb257600080fd5b611bbb866116fa565b9450611bc9602087016116fa565b9350604086013592506060860135915060808601356001600160401b03811115611bf257600080fd5b611b2b8882890161186d565b6001600160401b039290921682526001600160a01b0316602082015260400190565b6020808252601f908201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604082015260600190565b60208082526013908201527211da5d995b881251081a5cc81a5b9d985b1a59606a1b604082015260600190565b60208082526011908201527026bab9ba103132903a34329037bbb732b960791b604082015260600190565b600060208284031215611cc157600080fd5b5051919050565b6020808252825182820181905260009190848201906040850190845b81811015611d0057835183529284019291840191600101611ce4565b50909695505050505050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215611d3457600080fd5b81516001600160401b038116811461166957600080fd5b60018060a01b038416815260006020848184015260606040840152835180606085015260005b81811015611d8d57858101830151858201608001528201611d71565b81811115611d9f576000608083870101525b50601f01601f19169290920160800195945050505050565b600060208284031215611dc957600080fd5b815161166981611989565b6000600019821415611df657634e487b7160e01b600052601160045260246000fd5b506001019056fea264697066735822122095a7f56571f16c40d7c783e9e54708b4690bd621aca5841005ed77880881c68864736f6c634300080a0033