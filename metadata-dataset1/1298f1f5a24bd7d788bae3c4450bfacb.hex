608060405234801561001057600080fd5b506004361061025e5760003560e01c80634838d165116101465780638dbdbe6d116100c3578063d30ef61b11610087578063d30ef61b146105de578063d547741f146105ec578063e47d6060146105ff578063e4997dc514610622578063e58378bb14610635578063ea99e6891461064a57600080fd5b80638dbdbe6d1461054757806391d148541461055a57806393f1a40b1461056d578063bb90f1a0146105c2578063cea28574146105cb57600080fd5b8063630b5ba11161010a578063630b5ba1146104e35780636f9170f6146104eb578063760987611461050e5780638705fcd4146105215780638dbb1e3a1461053457600080fd5b80634838d1651461048e57806348b22bfb146104a157806351eb05a6146104aa5780635312ea8e146104bd57806355dbc826146104d057600080fd5b806324bcb38c116101df57806336470542116101a3578063364705421461041c57806336568abe1461042f578063372c12b11461044257806337fbc331146104555780633bf467da14610468578063412753581461047b57600080fd5b806324bcb38c146103b4578063254e5c94146103c75780632ce05437146103e35780632e1a7d4d146103f65780632f2ff15d1461040957600080fd5b80631441a5a9116102265780631441a5a9146102e85780631526fe271461032757806317caf6f1146103755780632042e5c21461037e578063248a9ca31461039157600080fd5b80630112d4311461026357806301ffc9a71461027857806303634331146102a0578063081e3eda146102c35780630ba84cd2146102d5575b600080fd5b610276610271366004612249565b61065e565b005b61028b610286366004612275565b6106e3565b60405190151581526020015b60405180910390f35b61028b6102ae36600461229f565b60086020526000908152604090205460ff1681565b6005545b604051908152602001610297565b6102766102e33660046122bc565b61071a565b61030f7f000000000000000000000000425c14e2f0bb9cf338d86cfb196f1338e79f6d5881565b6040516001600160a01b039091168152602001610297565b61033a6103353660046122bc565b610740565b604080516001600160a01b039097168752602087019590955293850192909252606084015261ffff16608083015260a082015260c001610297565b6102c7600a5481565b61027661038c36600461229f565b610797565b6102c761039f3660046122bc565b60009081526020819052604090206001015490565b6102766103c23660046122ec565b6107d1565b6103d06109c481565b60405161ffff9091168152602001610297565b6102766103f136600461229f565b6108f1565b6102766104043660046122bc565b61092e565b610276610417366004612321565b610b9c565b6102c761042a366004612321565b610bc1565b61027661043d366004612321565b610cd8565b61027661045036600461229f565b610d56565b61027661046336600461229f565b610d93565b610276610476366004612351565b610dcd565b60035461030f906001600160a01b031681565b61027661049c36600461229f565b610fe1565b6103d06101f481565b6102766104b83660046122bc565b61101e565b6102766104cb3660046122bc565b6110e3565b6102766104de366004612386565b6111a6565b610276611264565b61028b6104f936600461229f565b60076020526000908152604090205460ff1681565b60025461030f906001600160a01b031681565b61027661052f36600461229f565b61128b565b6102c76105423660046123a1565b611307565b6102766105553660046123c3565b61131a565b61028b610568366004612321565b6116a9565b6105a761057b366004612321565b600660209081526000928352604080842090915290825290208054600182015460029092015490919083565b60408051938452602084019290925290820152606001610297565b6102c760045481565b6102766105d9366004612386565b6116d2565b600b546103d09061ffff1681565b6102766105fa366004612321565b611775565b61028b61060d36600461229f565b60096020526000908152604090205460ff1681565b61027661063036600461229f565b61179a565b6102c760008051602061268b83398151915281565b600b546103d09062010000900461ffff1681565b60008051602061268b833981519152610676816117d4565b6001600160a01b0383166106c45760405162461bcd60e51b815260206004820152601060248201526f6e6f6e2d7a65726f206164647265737360801b60448201526064015b60405180910390fd5b81156106de576106de6001600160a01b03841633846117e1565b505050565b60006001600160e01b03198216637965db0b60e01b148061071457506301ffc9a760e01b6001600160e01b03198316145b92915050565b60008051602061268b833981519152610732816117d4565b61073a611264565b50600455565b6005818154811061075057600080fd5b60009182526020909120600690910201805460018201546002830154600384015460048501546005909501546001600160a01b0390941695509193909261ffff9091169086565b60008051602061268b8339815191526107af816117d4565b506001600160a01b03166000908152600760205260409020805460ff19169055565b60008051602061268b8339815191526107e9816117d4565b6109c461ffff8316111561080f5760405162461bcd60e51b81526004016106bb906123fc565b6108528361084c6005878154811061082957610829612442565b906000526020600020906006020160010154600a5461184490919063ffffffff16565b90611886565b600a55600580548590811061086957610869612442565b9060005260206000209060060201600101546000146108ac57826005858154811061089657610896612442565b9060005260206000209060060201600101819055505b81600585815481106108c0576108c0612442565b906000526020600020906006020160040160006101000a81548161ffff021916908361ffff16021790555050505050565b60008051602061268b833981519152610909816117d4565b506001600160a01b03166000908152600860205260409020805460ff19166001179055565b6002600154036109505760405162461bcd60e51b81526004016106bb90612458565b600260018190555060006005828154811061096d5761096d612442565b60009182526020808320858452600680835260408086203387529093529190932080549290910290920192506109da5760405162461bcd60e51b81526020600482015260126024820152711dda5d1a191c985dce881b9bdd0819dbdbd960721b60448201526064016106bb565b6109e38361101e565b6000610a208260010154610a1a678ac7230489e80000610a14876003015487600001546118e590919063ffffffff16565b90611967565b90611844565b6002830154909150610a329082611886565b60028301553360009081526008602052604090205460ff16610b0a57600b546002830154600091610a759161271091610a14919062010000900461ffff166118e5565b600354909150610a8e906001600160a01b0316826119a9565b6002830154610a9d9082611844565b6002840155600b548354600091610ac69161271091610a14919062010000900461ffff166118e5565b6003548654919250610ae5916001600160a01b039081169116836117e1565b6005850154610af49082611844565b60058601558354610b059082611844565b845550505b60008260020154118015610b2e57503360009081526009602052604090205460ff16155b15610b4f57610b413383600201546119a9565b610b4f338360020154611b7c565b81548354610b6a916001600160a01b039091169033906117e1565b81546005840154610b7a91611844565b6005909301929092556000808255600180830182905560029092015580555050565b600082815260208190526040902060010154610bb7816117d4565b6106de8383611c96565b60008060058481548110610bd757610bd7612442565b60009182526020808320878452600680835260408086206001600160a01b038a168752909352919093209102909101600381015460028201549193509043118015610c255750600583015415155b15610c9b576000610c3a846002015443611307565b90506000610c67600a54610a148760010154610c61600454876118e590919063ffffffff16565b906118e5565b9050610c96610c8f8660050154610a14678ac7230489e80000856118e590919063ffffffff16565b8490611886565b925050505b610cce826002015461084c8460010154610a1a678ac7230489e80000610a148789600001546118e590919063ffffffff16565b9695505050505050565b6001600160a01b0381163314610d485760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b60648201526084016106bb565b610d528282611d1a565b5050565b60008051602061268b833981519152610d6e816117d4565b506001600160a01b03166000908152600760205260409020805460ff19166001179055565b60008051602061268b833981519152610dab816117d4565b506001600160a01b03166000908152600860205260409020805460ff19169055565b60008051602061268b833981519152610de5816117d4565b6109c461ffff83161115610e0b5760405162461bcd60e51b81526004016106bb906123fc565b6040516370a0823160e01b81523060048201526001600160a01b038516906370a0823190602401602060405180830381865afa158015610e4f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e73919061248f565b50600a544390610e839085611886565b600a556040805160c0810182526001600160a01b0396871681526020810195865290810191825260006060820181815261ffff9586166080840190815260a0840183815260058054600181018255945293517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db0600690940293840180546001600160a01b03191691909a161790985595517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db182015591517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db283015593517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db382015593517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db48501805461ffff1916919093161790915550517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db590910155565b60008051602061268b833981519152610ff9816117d4565b506001600160a01b03166000908152600960205260409020805460ff19166001179055565b60006005828154811061103357611033612442565b9060005260206000209060060201905080600201544311611052575050565b8060050154600003611068574360029091015550565b6003810154600282015460009061107f9043611307565b905060006110a6600a54610a148660010154610c61600454876118e590919063ffffffff16565b90506110ce610c8f8560050154610a14678ac7230489e80000856118e590919063ffffffff16565b60038501555050436002909201919091555050565b6002600154036111055760405162461bcd60e51b81526004016106bb90612458565b600260018190555060006005828154811061112257611122612442565b60009182526020808320858452600680835260408086203387529093529184208054858255600182019590955592909102016005810154909350909190811161117e5760058301546111749082611844565b6005840155611186565b600060058401555b825461119c906001600160a01b031633836117e1565b5050600180555050565b60008051602061268b8339815191526111be816117d4565b6101f461ffff8316111561124b5760405162461bcd60e51b815260206004820152604860248201527f736574526566657272616c436f6d6d697373696f6e526174653a20696e76616c60448201527f696420726566657272616c20636f6d6d697373696f6e207261746520626173696064820152677320706f696e747360c01b608482015260a4016106bb565b50600b805461ffff191661ffff92909216919091179055565b60055460005b81811015610d525761127b8161101e565b611284816124be565b905061126a565b60008051602061268b8339815191526112a3816117d4565b6001600160a01b0382166112e45760405162461bcd60e51b81526020600482015260086024820152676e6f6e2d7a65726f60c01b60448201526064016106bb565b50600380546001600160a01b0319166001600160a01b0392909216919091179055565b60006113138284611844565b9392505050565b60026001540361133c5760405162461bcd60e51b81526004016106bb90612458565b600260018190555060006005848154811061135957611359612442565b6000918252602080832087845260068083526040808620338752909352919093209102909101915061138a8561101e565b6000841180156113c257507f000000000000000000000000425c14e2f0bb9cf338d86cfb196f1338e79f6d586001600160a01b031615155b80156113d657506001600160a01b03831615155b80156113eb57506001600160a01b0383163314155b1561147257604051630c7f7b6b60e01b81523360048201526001600160a01b0384811660248301527f000000000000000000000000425c14e2f0bb9cf338d86cfb196f1338e79f6d581690630c7f7b6b90604401600060405180830381600087803b15801561145957600080fd5b505af115801561146d573d6000803e3d6000fd5b505050505b60006114a38260010154610a1a678ac7230489e80000610a14876003015487600001546118e590919063ffffffff16565b60028301549091506114b59082611886565b6002830155841561167c5782546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a0823190602401602060405180830381865afa158015611508573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061152c919061248f565b8454909150611546906001600160a01b0316333089611d7f565b83546040516370a0823160e01b81523060048201526000916115b89184916001600160a01b0316906370a0823190602401602060405180830381865afa158015611594573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a1a919061248f565b3360009081526007602052604090205490915060ff16806115df5750600485015461ffff16155b1561160b5783546115f09082611886565b845560058501546116019082611886565b6005860155611679565b600485015460009061162a9061271090610a1490859061ffff166118e5565b6003548754919250611649916001600160a01b039081169116836117e1565b845461165b908290610a1a9085611886565b85556005860154611672908290610a1a9085611886565b6005870155505b50505b6003830154825461169a91678ac7230489e8000091610a14916118e5565b60019283015550805550505050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b60008051602061268b8339815191526116ea816117d4565b6109c461ffff831611156117545760405162461bcd60e51b815260206004820152602b60248201527f576974686472617746656552617465206d7573746e277420626520677265617460448201526a6572207468616e2032352560a81b60648201526084016106bb565b50600b805461ffff909216620100000263ffff000019909216919091179055565b600082815260208190526040902060010154611790816117d4565b6106de8383611d1a565b60008051602061268b8339815191526117b2816117d4565b506001600160a01b03166000908152600960205260409020805460ff19169055565b6117de8133611db7565b50565b6040516001600160a01b0383166024820152604481018290526106de90849063a9059cbb60e01b906064015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b031990931692909217909152611e1b565b600061131383836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611eed565b60008061189383856124d7565b9050838110156113135760405162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f77000000000060448201526064016106bb565b6000826000036118f757506000610714565b600061190383856124ea565b9050826119108583612501565b146113135760405162461bcd60e51b815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6044820152607760f81b60648201526084016106bb565b600061131383836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250611f27565b6002546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a0823190602401602060405180830381865afa1580156119f2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a16919061248f565b9050600081831115611aa05760025460405163a9059cbb60e01b81526001600160a01b038681166004830152602482018590529091169063a9059cbb906044016020604051808303816000875af1158015611a75573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a999190612523565b9050611b1a565b60025460405163a9059cbb60e01b81526001600160a01b038681166004830152602482018690529091169063a9059cbb906044016020604051808303816000875af1158015611af3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b179190612523565b90505b80611b765760405162461bcd60e51b815260206004820152602660248201527f73616665537175696467726f775472616e736665723a205472616e736665722060448201526519985a5b195960d21b60648201526084016106bb565b50505050565b7f000000000000000000000000425c14e2f0bb9cf338d86cfb196f1338e79f6d586001600160a01b031615801590611bb95750600b5461ffff1615155b15610d5257604051634a9fefc760e01b81526001600160a01b0383811660048301526000917f000000000000000000000000425c14e2f0bb9cf338d86cfb196f1338e79f6d5890911690634a9fefc790602401602060405180830381865afa158015611c29573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c4d9190612545565b600b54909150600090611c6d9061271090610a1490869061ffff166118e5565b90506001600160a01b03821615801590611c875750600081115b15611b7657611b7682826119a9565b611ca082826116a9565b610d52576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055611cd63390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b611d2482826116a9565b15610d52576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b6040516001600160a01b0380851660248301528316604482015260648101829052611b769085906323b872dd60e01b9060840161180d565b611dc182826116a9565b610d5257611dd9816001600160a01b03166014611f55565b611de4836020611f55565b604051602001611df5929190612586565b60408051601f198184030181529082905262461bcd60e51b82526106bb916004016125fb565b6000611e70826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166120f19092919063ffffffff16565b8051909150156106de5780806020019051810190611e8e9190612523565b6106de5760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016106bb565b60008184841115611f115760405162461bcd60e51b81526004016106bb91906125fb565b506000611f1e848661262e565b95945050505050565b60008183611f485760405162461bcd60e51b81526004016106bb91906125fb565b506000611f1e8486612501565b60606000611f648360026124ea565b611f6f9060026124d7565b67ffffffffffffffff811115611f8757611f87612641565b6040519080825280601f01601f191660200182016040528015611fb1576020820181803683370190505b509050600360fc1b81600081518110611fcc57611fcc612442565b60200101906001600160f81b031916908160001a905350600f60fb1b81600181518110611ffb57611ffb612442565b60200101906001600160f81b031916908160001a905350600061201f8460026124ea565b61202a9060016124d7565b90505b60018111156120a2576f181899199a1a9b1b9c1cb0b131b232b360811b85600f166010811061205e5761205e612442565b1a60f81b82828151811061207457612074612442565b60200101906001600160f81b031916908160001a90535060049490941c9361209b81612657565b905061202d565b5083156113135760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e7460448201526064016106bb565b60606121008484600085612108565b949350505050565b6060612113856121fb565b61215f5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016106bb565b600080866001600160a01b0316858760405161217b919061266e565b60006040518083038185875af1925050503d80600081146121b8576040519150601f19603f3d011682016040523d82523d6000602084013e6121bd565b606091505b509150915081156121d15791506121009050565b8051156121e15780518082602001fd5b8360405162461bcd60e51b81526004016106bb91906125fb565b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470818114801590612100575050151592915050565b6001600160a01b03811681146117de57600080fd5b6000806040838503121561225c57600080fd5b823561226781612234565b946020939093013593505050565b60006020828403121561228757600080fd5b81356001600160e01b03198116811461131357600080fd5b6000602082840312156122b157600080fd5b813561131381612234565b6000602082840312156122ce57600080fd5b5035919050565b803561ffff811681146122e757600080fd5b919050565b60008060006060848603121561230157600080fd5b8335925060208401359150612318604085016122d5565b90509250925092565b6000806040838503121561233457600080fd5b82359150602083013561234681612234565b809150509250929050565b60008060006060848603121561236657600080fd5b833561237181612234565b925060208401359150612318604085016122d5565b60006020828403121561239857600080fd5b611313826122d5565b600080604083850312156123b457600080fd5b50508035926020909101359150565b6000806000606084860312156123d857600080fd5b833592506020840135915060408401356123f181612234565b809150509250925092565b60208082526026908201527f6465706f736974466565206d7573746e27742062652067726561746572207468604082015265616e2032352560d01b606082015260800190565b634e487b7160e01b600052603260045260246000fd5b6020808252601f908201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604082015260600190565b6000602082840312156124a157600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b6000600182016124d0576124d06124a8565b5060010190565b80820180821115610714576107146124a8565b8082028115828204841417610714576107146124a8565b60008261251e57634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561253557600080fd5b8151801515811461131357600080fd5b60006020828403121561255757600080fd5b815161131381612234565b60005b8381101561257d578181015183820152602001612565565b50506000910152565b7f416363657373436f6e74726f6c3a206163636f756e74200000000000000000008152600083516125be816017850160208801612562565b7001034b99036b4b9b9b4b733903937b6329607d1b60179184019182015283516125ef816028840160208801612562565b01602801949350505050565b602081526000825180602084015261261a816040850160208701612562565b601f01601f19169190910160400192915050565b81810381811115610714576107146124a8565b634e487b7160e01b600052604160045260246000fd5b600081612666576126666124a8565b506000190190565b60008251612680818460208701612562565b919091019291505056feb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214ea26469706673582212202fd06ce0869adfcd286b55af7a34a6ba17b0c94a2237b5dcd347ad2bf2f3d8e064736f6c63430008110033