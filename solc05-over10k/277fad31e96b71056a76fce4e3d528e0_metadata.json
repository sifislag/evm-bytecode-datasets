{"md5_bytecode": "277fad31e96b71056a76fce4e3d528e0", "function_debug_info": {}, "immutable_references": {}, "abi": [{"type": "constructor", "inputs": [{"name": "_registryAddr", "type": "address", "internalType": "address"}], "payable": false, "stateMutability": "nonpayable"}, {"name": "AddTokensToAccount", "type": "function", "inputs": [{"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}, {"name": "numOfTokens", "type": "uint256", "internalType": "uint256"}], "outputs": [{"name": "updatedAccount", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "payable": false, "constant": true, "stateMutability": "pure"}, {"name": "ApplyTx", "type": "function", "inputs": [{"name": "_merkle_proof", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}, {"name": "transaction", "type": "tuple", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction"}], "outputs": [{"name": "updatedAccount", "type": "bytes", "internalType": "bytes"}, {"name": "newRoot", "type": "bytes32", "internalType": "bytes32"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "RemoveTokensFromAccount", "type": "function", "inputs": [{"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}, {"name": "numOfTokens", "type": "uint256", "internalType": "uint256"}], "outputs": [{"name": "updatedAccount", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "payable": false, "constant": true, "stateMutability": "pure"}, {"name": "UpdateAccountWithSiblings", "type": "function", "inputs": [{"name": "new_account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}, {"name": "_merkle_proof", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}], "outputs": [{"name": "", "type": "bytes32", "internalType": "bytes32"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "ValidateAccountMP", "type": "function", "inputs": [{"name": "root", "type": "bytes32", "internalType": "bytes32"}, {"name": "merkle_proof", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}], "outputs": [], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "ValidatePubkeyAvailability", "type": "function", "inputs": [{"name": "_accountsRoot", "type": "bytes32", "internalType": "bytes32"}, {"name": "_from_pda_proof", "type": "tuple", "components": [{"name": "_pda", "type": "tuple", "components": [{"name": "pathToPubkey", "type": "uint256", "internalType": "uint256"}, {"name": "pubkey_leaf", "type": "tuple", "components": [{"name": "pubkey", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.PDALeaf"}], "internalType": "struct Types.PDAInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.PDAMerkleProof"}, {"name": "from_index", "type": "uint256", "internalType": "uint256"}], "outputs": [], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "ValidateSignature", "type": "function", "inputs": [{"name": "_tx", "type": "tuple", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction"}, {"name": "_from_pda_proof", "type": "tuple", "components": [{"name": "_pda", "type": "tuple", "components": [{"name": "pathToPubkey", "type": "uint256", "internalType": "uint256"}, {"name": "pubkey_leaf", "type": "tuple", "components": [{"name": "pubkey", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.PDALeaf"}], "internalType": "struct Types.PDAInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.PDAMerkleProof"}], "outputs": [{"name": "", "type": "bool", "internalType": "bool"}], "payable": false, "constant": true, "stateMutability": "pure"}, {"name": "ZERO_BYTES32", "type": "function", "inputs": [], "outputs": [{"name": "", "type": "bytes32", "internalType": "bytes32"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "generateTxRoot", "type": "function", "inputs": [{"name": "_txs", "type": "tuple[]", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction[]"}], "outputs": [{"name": "txRoot", "type": "bytes32", "internalType": "bytes32"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "governance", "type": "function", "inputs": [], "outputs": [{"name": "", "type": "address", "internalType": "contract Governance"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "merkleUtils", "type": "function", "inputs": [], "outputs": [{"name": "", "type": "address", "internalType": "contract MerkleTreeUtils"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "nameRegistry", "type": "function", "inputs": [], "outputs": [{"name": "", "type": "address", "internalType": "contract NameRegistry"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "processBatch", "type": "function", "inputs": [{"name": "stateRoot", "type": "bytes32", "internalType": "bytes32"}, {"name": "accountsRoot", "type": "bytes32", "internalType": "bytes32"}, {"name": "_txs", "type": "tuple[]", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction[]"}, {"name": "batchProofs", "type": "tuple", "components": [{"name": "accountProofs", "type": "tuple[]", "components": [{"name": "from", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}, {"name": "to", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}], "internalType": "struct Types.AccountProofs[]"}, {"name": "pdaProof", "type": "tuple[]", "components": [{"name": "_pda", "type": "tuple", "components": [{"name": "pathToPubkey", "type": "uint256", "internalType": "uint256"}, {"name": "pubkey_leaf", "type": "tuple", "components": [{"name": "pubkey", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.PDALeaf"}], "internalType": "struct Types.PDAInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.PDAMerkleProof[]"}], "internalType": "struct Types.BatchValidationProofs"}, {"name": "expectedTxRoot", "type": "bytes32", "internalType": "bytes32"}], "outputs": [{"name": "", "type": "bytes32", "internalType": "bytes32"}, {"name": "", "type": "bytes32", "internalType": "bytes32"}, {"name": "", "type": "bool", "internalType": "bool"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "processTx", "type": "function", "inputs": [{"name": "_balanceRoot", "type": "bytes32", "internalType": "bytes32"}, {"name": "_accountsRoot", "type": "bytes32", "internalType": "bytes32"}, {"name": "_tx", "type": "tuple", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction"}, {"name": "_from_pda_proof", "type": "tuple", "components": [{"name": "_pda", "type": "tuple", "components": [{"name": "pathToPubkey", "type": "uint256", "internalType": "uint256"}, {"name": "pubkey_leaf", "type": "tuple", "components": [{"name": "pubkey", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.PDALeaf"}], "internalType": "struct Types.PDAInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.PDAMerkleProof"}, {"name": "accountProofs", "type": "tuple", "components": [{"name": "from", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}, {"name": "to", "type": "tuple", "components": [{"name": "accountIP", "type": "tuple", "components": [{"name": "pathToAccount", "type": "uint256", "internalType": "uint256"}, {"name": "account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "internalType": "struct Types.AccountInclusionProof"}, {"name": "siblings", "type": "bytes32[]", "internalType": "bytes32[]"}], "internalType": "struct Types.AccountMerkleProof"}], "internalType": "struct Types.AccountProofs"}], "outputs": [{"name": "", "type": "bytes32", "internalType": "bytes32"}, {"name": "", "type": "bytes", "internalType": "bytes"}, {"name": "", "type": "bytes", "internalType": "bytes"}, {"name": "", "type": "uint8", "internalType": "enum Types.ErrorCode"}, {"name": "", "type": "bool", "internalType": "bool"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "tokenRegistry", "type": "function", "inputs": [], "outputs": [{"name": "", "type": "address", "internalType": "contract ITokenRegistry"}], "payable": false, "constant": true, "stateMutability": "view"}, {"name": "validateTxBasic", "type": "function", "inputs": [{"name": "_tx", "type": "tuple", "components": [{"name": "fromIndex", "type": "uint256", "internalType": "uint256"}, {"name": "toIndex", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}, {"name": "txType", "type": "uint256", "internalType": "uint256"}, {"name": "amount", "type": "uint256", "internalType": "uint256"}, {"name": "signature", "type": "bytes", "internalType": "bytes"}], "internalType": "struct Types.Transaction"}, {"name": "_from_account", "type": "tuple", "components": [{"name": "ID", "type": "uint256", "internalType": "uint256"}, {"name": "tokenType", "type": "uint256", "internalType": "uint256"}, {"name": "balance", "type": "uint256", "internalType": "uint256"}, {"name": "nonce", "type": "uint256", "internalType": "uint256"}], "internalType": "struct Types.UserAccount"}], "outputs": [{"name": "", "type": "uint8", "internalType": "enum Types.ErrorCode"}], "payable": false, "constant": true, "stateMutability": "view"}], "storage_layout": {"types": {"t_contract(Governance)796": {"label": "contract Governance", "encoding": "inplace", "numberOfBytes": "20"}, "t_contract(NameRegistry)1693": {"label": "contract NameRegistry", "encoding": "inplace", "numberOfBytes": "20"}, "t_contract(ITokenRegistry)1743": {"label": "contract ITokenRegistry", "encoding": "inplace", "numberOfBytes": "20"}, "t_contract(MerkleTreeUtils)1614": {"label": "contract MerkleTreeUtils", "encoding": "inplace", "numberOfBytes": "20"}}, "storage": [{"slot": "0", "type": "t_contract(MerkleTreeUtils)1614", "astId": 30, "label": "merkleUtils", "offset": 0, "contract": "/contracts/FraudProof.sol:FraudProof"}, {"slot": "1", "type": "t_contract(ITokenRegistry)1743", "astId": 32, "label": "tokenRegistry", "offset": 0, "contract": "/contracts/FraudProof.sol:FraudProof"}, {"slot": "2", "type": "t_contract(NameRegistry)1693", "astId": 34, "label": "nameRegistry", "offset": 0, "contract": "/contracts/FraudProof.sol:FraudProof"}, {"slot": "3", "type": "t_contract(Governance)796", "astId": 39, "label": "governance", "offset": 0, "contract": "/contracts/FraudProof.sol:FraudProof"}]}}